{"ast":null,"code":"import _defineProperty from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from\"react-router-dom\";import'./change-password.sass';import axios from'axios';import Footer from'../../components/footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var source;var changePassword=/*#__PURE__*/function(_Component){_inherits(changePassword,_Component);var _super=_createSuper(changePassword);function changePassword(){var _this;_classCallCheck(this,changePassword);_this=_super.call(this);_this.state={oldPwd:'',newPwd:'',newPwdRepeat:'',msg:''};source=axios.CancelToken.source();_this.handleInput=_this.handleInput.bind(_assertThisInitialized(_this));_this.changePassword=_this.changePassword.bind(_assertThisInitialized(_this));_this.handleError=_this.handleError.bind(_assertThisInitialized(_this));return _this;}_createClass(changePassword,[{key:\"handleInput\",value:function handleInput(e){var fieldName=e.target.name;var newState=e.target.value;//update state\nthis.setState(_defineProperty({},fieldName,newState));}},{key:\"changePassword\",value:function changePassword(){var _this2=this;var body={oldPwd:this.state.oldPwd,newPwd:this.state.newPwd,newPwdRepeat:this.state.newPwdRepeat};axios.post('/api/users/changepassword',body,{cancelToken:source.token}).then(function(res){_this2.setState({oldPwd:'',newPwd:'',newPwdRepeat:'',msg:res.data});}).catch(function(error){console.log(error);//if (!(typeof error.response.data === 'undefined')) this.setState({msg: error.response.data});\n});}},{key:\"handleError\",value:function handleError(msg){var _this3=this;if(msg.length>0){var timer=setTimeout(function(){_this3.setState({msg:''});},5500);return/*#__PURE__*/_jsx(\"div\",{className:\"bannerMsgBar\",children:msg});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(source)source.cancel();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(React.Fragment,{children:[this.handleError(this.state.msg),/*#__PURE__*/_jsx(\"div\",{className:\"accountContent minBodyHeight\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"editLogin\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"my-account-titles\",children:\"Change Password\"}),/*#__PURE__*/_jsx(\"div\",{id:\"pwdNotice\",children:\"Password must be at least 8 characters, and can contain letters, numbers, or the symbols (!@#$%.?)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputDiv\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"std-field-label\",children:\"Old Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"oldPwd\",value:this.state.oldPwd,onChange:this.handleInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputDiv\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"std-field-label\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"newPwd\",value:this.state.newPwd,onChange:this.handleInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputDiv\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"std-field-label\",children:\"Confirm New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"newPwdRepeat\",value:this.state.newPwdRepeat,onChange:this.handleInput})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"submitr-btn\",type:\"submit\",name:\"accountLogin\",onClick:this.changePassword,children:\"Update Account\"})})]})})]});}}]);return changePassword;}(Component);export default changePassword;","map":{"version":3,"sources":["/Users/ryan/Documents/cookwell-react-express/client/src/pages/account-pages/change-password.jsx"],"names":["React","Component","Link","axios","Footer","source","changePassword","state","oldPwd","newPwd","newPwdRepeat","msg","CancelToken","handleInput","bind","handleError","e","fieldName","target","name","newState","value","setState","body","post","cancelToken","token","then","res","data","catch","error","console","log","length","timer","setTimeout","cancel"],"mappings":"8/BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,wBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,C,wFACA,GAAIC,CAAAA,MAAJ,C,GAEMC,CAAAA,c,gHACL,yBAAc,gDACb,wBACA,MAAKC,KAAL,CAAa,CACZC,MAAM,CAAE,EADI,CAEZC,MAAM,CAAE,EAFI,CAGZC,YAAY,CAAE,EAHF,CAIZC,GAAG,CAAC,EAJQ,CAAb,CAMAN,MAAM,CAAGF,KAAK,CAACS,WAAN,CAAkBP,MAAlB,EAAT,CACA,MAAKQ,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CACA,MAAKR,cAAL,CAAsB,MAAKA,cAAL,CAAoBQ,IAApB,+BAAtB,CACA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBD,IAAjB,+BAAnB,CAXa,aAYb,C,sDAED,qBAAYE,CAAZ,CAAe,CACd,GAAIC,CAAAA,SAAS,CAAGD,CAAC,CAACE,MAAF,CAASC,IAAzB,CACA,GAAIC,CAAAA,QAAQ,CAAGJ,CAAC,CAACE,MAAF,CAASG,KAAxB,CAEA;AACA,KAAKC,QAAL,oBACEL,SADF,CACcG,QADd,GAIA,C,8BAED,yBAAiB,iBAChB,GAAIG,CAAAA,IAAI,CAAG,CACVf,MAAM,CAAE,KAAKD,KAAL,CAAWC,MADT,CAEVC,MAAM,CAAE,KAAKF,KAAL,CAAWE,MAFT,CAGVC,YAAY,CAAE,KAAKH,KAAL,CAAWG,YAHf,CAAX,CAMAP,KAAK,CAACqB,IAAN,CAAW,2BAAX,CAAwCD,IAAxC,CAA8C,CAACE,WAAW,CAAEpB,MAAM,CAACqB,KAArB,CAA9C,EACGC,IADH,CACQ,SAAAC,GAAG,CAAI,CACZ,MAAI,CAACN,QAAL,CAAc,CACbd,MAAM,CAAE,EADK,CAEdC,MAAM,CAAE,EAFM,CAGdC,YAAY,CAAE,EAHA,CAIbC,GAAG,CAAEiB,GAAG,CAACC,IAJI,CAAd,EAMD,CARF,EASEC,KATF,CASQ,SAAAC,KAAK,CAAI,CACfC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA;AACA,CAZF,EAcA,C,2BAED,qBAAYpB,GAAZ,CAAiB,iBAChB,GAAIA,GAAG,CAACuB,MAAJ,CAAa,CAAjB,CAAoB,CACnB,GAAMC,CAAAA,KAAK,CAAGC,UAAU,CAAC,UAAM,CAC9B,MAAI,CAACd,QAAL,CAAc,CAACX,GAAG,CAAE,EAAN,CAAd,EACA,CAFuB,CAErB,IAFqB,CAAxB,CAGA,mBAAO,YAAK,SAAS,CAAC,cAAf,UAA+BA,GAA/B,EAAP,CACA,CACD,C,oCAED,+BAAuB,CACtB,GAAIN,MAAJ,CAAYA,MAAM,CAACgC,MAAP,GACZ,C,sBAGD,iBAAS,CACR,mBACC,MAAC,KAAD,CAAO,QAAP,YACG,KAAKtB,WAAL,CAAiB,KAAKR,KAAL,CAAWI,GAA5B,CADH,cAEC,YAAK,SAAS,CAAC,8BAAf,uBACC,aAAK,EAAE,CAAC,WAAR,wBACC,YAAK,SAAS,CAAC,mBAAf,6BADD,cAEC,YAAK,EAAE,CAAC,WAAR,gHAFD,cAMC,aAAK,SAAS,CAAC,UAAf,wBACC,cAAO,SAAS,CAAC,iBAAjB,0BADD,cAEC,cACC,IAAI,CAAC,UADN,CAEC,IAAI,CAAC,QAFN,CAGC,KAAK,CAAE,KAAKJ,KAAL,CAAWC,MAHnB,CAIC,QAAQ,CAAE,KAAKK,WAJhB,EAFD,GAND,cAgBC,aAAK,SAAS,CAAC,UAAf,wBACC,cAAO,SAAS,CAAC,iBAAjB,0BADD,cAEC,cACC,IAAI,CAAC,UADN,CAEC,IAAI,CAAC,QAFN,CAGC,KAAK,CAAE,KAAKN,KAAL,CAAWE,MAHnB,CAIC,QAAQ,CAAE,KAAKI,WAJhB,EAFD,GAhBD,cA0BC,aAAK,SAAS,CAAC,UAAf,wBACC,cAAO,SAAS,CAAC,iBAAjB,kCADD,cAEC,cACC,IAAI,CAAC,UADN,CAEC,IAAI,CAAC,cAFN,CAGC,KAAK,CAAE,KAAKN,KAAL,CAAWG,YAHnB,CAIC,QAAQ,CAAE,KAAKG,WAJhB,EAFD,GA1BD,cAoCC,kCACC,eAAQ,SAAS,CAAC,aAAlB,CAAgC,IAAI,CAAC,QAArC,CAA8C,IAAI,CAAC,cAAnD,CAAkE,OAAO,CAAE,KAAKP,cAAhF,4BADD,EApCD,GADD,EAFD,GADD,CAiDA,C,4BAjH2BL,S,EAwH7B,cAAeK,CAAAA,cAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport './change-password.sass';\nimport axios from 'axios';\nimport Footer from '../../components/footer';\nlet source;\n\nclass changePassword extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\toldPwd: '',\n\t\t\tnewPwd: '',\n\t\t\tnewPwdRepeat: '',\n\t\t\tmsg:''\n\t\t}\n\t\tsource = axios.CancelToken.source();\n\t\tthis.handleInput = this.handleInput.bind(this);\n\t\tthis.changePassword = this.changePassword.bind(this);\n\t\tthis.handleError = this.handleError.bind(this);\n\t}\n\n\thandleInput(e) {\n\t\tvar fieldName = e.target.name;\n\t\tvar newState = e.target.value;\n\n\t\t//update state\n\t\tthis.setState({\n\t\t\t[fieldName]: newState\n\t\t});\n\n\t}\n\n\tchangePassword() {\n\t\tlet body = {\n\t\t\toldPwd: this.state.oldPwd,\n\t\t\tnewPwd: this.state.newPwd,\n\t\t\tnewPwdRepeat: this.state.newPwdRepeat\n\t\t}\n\n\t\taxios.post('/api/users/changepassword', body, {cancelToken: source.token})\n\t\t \t.then(res => {\n\t\t \t\tthis.setState({\n\t\t \t\t\toldPwd: '',\n\t\t\t\t\tnewPwd: '',\n\t\t\t\t\tnewPwdRepeat: '',\n\t\t \t\t\tmsg: res.data\n\t\t \t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t//if (!(typeof error.response.data === 'undefined')) this.setState({msg: error.response.data});\n\t\t\t});\n\n\t}\n\n\thandleError(msg) {\n\t\tif (msg.length > 0) {\n\t\t\tconst timer = setTimeout(() => {\n\t\t\t\tthis.setState({msg: ''});\n\t\t\t}, 5500);\n\t\t\treturn <div className='bannerMsgBar'>{msg}</div>;\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (source) source.cancel();\n\t}\n\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{\tthis.handleError(this.state.msg)\t}\n\t\t\t\t<div className=\"accountContent minBodyHeight\">\n\t\t\t\t\t<div id=\"editLogin\">\n\t\t\t\t\t\t<div className='my-account-titles'>Change Password</div>\n\t\t\t\t\t\t<div id=\"pwdNotice\">\n\t\t\t\t\t\t\tPassword must be at least 8 characters, and can contain letters, numbers, or the symbols (!@#$%.?)\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<div className='inputDiv'>\n\t\t\t\t\t\t\t<label className='std-field-label'>Old Password</label>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\ttype='password' \n\t\t\t\t\t\t\t\tname='oldPwd'\n\t\t\t\t\t\t\t\tvalue={this.state.oldPwd}\n\t\t\t\t\t\t\t\tonChange={this.handleInput}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='inputDiv'>\n\t\t\t\t\t\t\t<label className='std-field-label'>New Password</label>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\ttype='password' \n\t\t\t\t\t\t\t\tname='newPwd'\n\t\t\t\t\t\t\t\tvalue={this.state.newPwd}\n\t\t\t\t\t\t\t\tonChange={this.handleInput}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='inputDiv'>\n\t\t\t\t\t\t\t<label className='std-field-label'>Confirm New Password</label>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\ttype='password' \n\t\t\t\t\t\t\t\tname='newPwdRepeat'\n\t\t\t\t\t\t\t\tvalue={this.state.newPwdRepeat}\n\t\t\t\t\t\t\t\tonChange={this.handleInput}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<button className='submitr-btn' type='submit' name='accountLogin' onClick={this.changePassword}>Update Account</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/*\t<Footer isLoaded={true} />*/}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\n\n\n\nexport default changePassword;\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}