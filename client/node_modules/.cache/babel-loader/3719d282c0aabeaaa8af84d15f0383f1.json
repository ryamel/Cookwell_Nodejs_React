{"ast":null,"code":"import _defineProperty from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import'./search-page.sass';import DropMenu from'../components/dropMenu';import MultiSelectMenu from'../components/multiSelectMenu';import{mealTypes,dietOptions,cuisine}from'../searchOptions';import ShowResults from'../components/show-results';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var source;var Searchpage=/*#__PURE__*/function(_React$Component){_inherits(Searchpage,_React$Component);var _super=_createSuper(Searchpage);function Searchpage(props){var _this;_classCallCheck(this,Searchpage);_this=_super.call(this,props);_this.state={searchResult:[],diet:[],cuisine:[],mealType:[],time:null,isLoaded:false};source=axios.CancelToken.source();_this.handleInput=_this.handleInput.bind(_assertThisInitialized(_this));_this.renderResults=_this.renderResults.bind(_assertThisInitialized(_this));return _this;}_createClass(Searchpage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// this is only such that on reload / refresh, the component will still load some results\nvar searchText='';if(this.props.searchText)searchText=this.props.searchText;var body={diet:this.state.diet,cuisine:this.state.cuisine,mealType:this.state.mealType,time:this.state.time,searchText:searchText};axios.post(\"/api/recipes/search\",body,{cancelToken:source.token}).then(function(res){_this2.setState({searchResult:res.data,isLoaded:true});}).catch(function(err){return console.log(err);});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this3=this;if(this.props.searchClick!==prevProps.searchClick){var body2={diet:this.state.diet,cuisine:this.state.cuisine,mealType:this.state.mealType,time:this.state.time,searchText:this.props.searchText};axios.post(\"/api/recipes/search\",body2,{cancelToken:source.token}).then(function(res){_this3.setState({searchResult:res.data,isLoaded:true});}).catch(function(err){return console.log(err);});}}},{key:\"handleInput\",value:function handleInput(stateName,value){// if time selection\nif(stateName=='time'){if(this.state.time===value){this.setState(_defineProperty({},stateName,null));}else{this.setState(_defineProperty({},stateName,value));}return;}// if diet, mealType, or cuisine selection. Check if selection exists in state.diet array. If aleady exists, remove it. If it doesnt, append it to the state.diet\nif(stateName=='diet'){var newState=this.state.diet;var cont=1;}else if(stateName=='cuisine'){var newState=this.state.cuisine;var cont=1;}else if(stateName=='mealType'){var newState=this.state.mealType;var cont=1;}if(cont){if(newState.includes(value)){var index=newState.indexOf(value);newState.splice(index,1);}else{newState.push(value);}this.setState(_defineProperty({},stateName,newState));}// if searchText\nif(stateName=='searchText'){this.setState(_defineProperty({},stateName,value));}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(source)source.cancel();}},{key:\"renderResults\",value:function renderResults(){if(this.state.isLoaded){if(this.state.searchResult.length>0){return/*#__PURE__*/_jsx(ShowResults,{results:this.state.searchResult});}if(this.state.searchResult.length==0){return/*#__PURE__*/_jsx(\"div\",{id:\"noResultsMsg\",children:\"No results! Try another search\"});}}}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{id:\"filter-container\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"restrictions-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filterDivs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"restriction-label\",children:\"Dietary\"}),/*#__PURE__*/_jsx(MultiSelectMenu,{name:\"diet\",options:dietOptions,state:this.state.diet,handleInput:function handleInput(e){return _this4.handleInput(e.target.name,e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filterDivs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"restriction-label\",children:\"Time\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"check-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"lt-sym\",children:\"<\"}),\" 30 min\",/*#__PURE__*/_jsx(\"input\",{name:\"time\",value:\"30\",type:\"checkbox\",checked:this.state.time===\"30\",onChange:function onChange(e){return _this4.handleInput(e.target.name,e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"check-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"lt-sym\",children:\"<\"}),\" 45 min\",/*#__PURE__*/_jsx(\"input\",{name:\"time\",value:\"45\",type:\"checkbox\",checked:this.state.time===\"45\",onChange:function onChange(e){return _this4.handleInput(e.target.name,e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"check-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"lt-sym\",children:\"<\"}),\" 60 min\",/*#__PURE__*/_jsx(\"input\",{name:\"time\",value:\"60\",type:\"checkbox\",checked:this.state.time===\"60\",onChange:function onChange(e){return _this4.handleInput(e.target.name,e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filterDivs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"restriction-label dropMenu-label\",children:\"Culinary\"}),/*#__PURE__*/_jsx(DropMenu,{name:\"cuisine\",options:cuisine,handleInput:function handleInput(e){return _this4.handleInput(e.target.name,e.target.value);},state:this.state.cuisine})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filterDivs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"restriction-label dropMenu-label\",children:\"Meal Type\"}),/*#__PURE__*/_jsx(DropMenu,{name:\"mealType\",options:mealTypes,handleInput:function handleInput(e){return _this4.handleInput(e.target.name,e.target.value);},state:this.state.mealType})]})]})}),this.renderResults()]});}}]);return Searchpage;}(React.Component);export default Searchpage;","map":{"version":3,"sources":["/Users/ryan/Documents/cookwell-react-express/client/src/pages/search-page.jsx"],"names":["React","Component","DropMenu","MultiSelectMenu","mealTypes","dietOptions","cuisine","ShowResults","axios","source","Searchpage","props","state","searchResult","diet","mealType","time","isLoaded","CancelToken","handleInput","bind","renderResults","searchText","body","post","cancelToken","token","then","res","setState","data","catch","err","console","log","prevProps","prevState","searchClick","body2","stateName","value","newState","cont","includes","index","indexOf","splice","push","cancel","length","e","target","name"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport './search-page.sass';\nimport DropMenu from '../components/dropMenu';\nimport MultiSelectMenu from '../components/multiSelectMenu';\nimport { mealTypes, dietOptions, cuisine } from '../searchOptions';\nimport ShowResults from '../components/show-results'\nimport axios from 'axios';\nlet source;\n\nclass Searchpage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsearchResult: [],\n\t\t\tdiet: [],\n\t\t\tcuisine: [],\n\t\t\tmealType: [],\n\t\t\ttime: null,\n\t\t\tisLoaded: false\n\t\t}\n\t\tsource = axios.CancelToken.source();\n\t\tthis.handleInput = this.handleInput.bind(this);\n\t\tthis.renderResults = this.renderResults.bind(this);\n\t}\n\n\n\tcomponentDidMount() {\n\t\t// this is only such that on reload / refresh, the component will still load some results\n\t\tlet searchText = '';\n\t\tif (this.props.searchText) searchText = this.props.searchText;\n\t\t\n\t\tlet body = {\n\t\t\tdiet: this.state.diet,\n\t       \tcuisine: this.state.cuisine,\n\t       \tmealType: this.state.mealType,\n\t       \ttime: this.state.time,\n\t       \tsearchText: searchText\n\t\t};\n\n\t\taxios.post(\"/api/recipes/search\", body, {cancelToken: source.token})\n\t\t\t.then(res => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tsearchResult: res.data,\n\t\t\t\t\tisLoaded: true\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (this.props.searchClick !== prevProps.searchClick) {\t\n\n\t\t\tlet body2 = {\n\t\t\t\tdiet: this.state.diet,\n\t\t       \tcuisine: this.state.cuisine,\n\t\t       \tmealType: this.state.mealType,\n\t\t       \ttime: this.state.time,\n\t\t       \tsearchText: this.props.searchText\n\t\t\t};\n\n\t\t\taxios.post(\"/api/recipes/search\", body2, {cancelToken: source.token})\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tsearchResult: res.data,\n\t\t\t\t\t\tisLoaded: true\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err));\n\t\t}\n\t}\n\n\n\thandleInput(stateName, value) {\n\n\t\t// if time selection\n\t\tif (stateName == 'time') {\n\t\t\tif (this.state.time === value) {\n\t\t\t\tthis.setState({\n\t\t\t\t\t[stateName]: null\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\t[stateName]: value\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// if diet, mealType, or cuisine selection. Check if selection exists in state.diet array. If aleady exists, remove it. If it doesnt, append it to the state.diet\n\t\tif (stateName == 'diet') {\n\t\t\tvar newState = this.state.diet;\n\t\t\tvar cont = 1;\n\t\t} else if (stateName == 'cuisine') {\n\t\t\tvar newState = this.state.cuisine;\n\t\t\tvar cont = 1;\n\t\t} else if (stateName == 'mealType') {\n\t\t\tvar newState = this.state.mealType;\n\t\t\tvar cont = 1;\n\t\t}\n\t\tif (cont) {\n\t\t\tif (newState.includes(value)) {\n\t\t\t\tconst index = newState.indexOf(value);\n\t\t\t\tnewState.splice(index, 1);\n\t\t\t} else {\n\t\t\t\tnewState.push(value);\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\t[stateName]: newState\n\t\t\t});\n\t\t}\n\n\n\t\t// if searchText\n\t\tif (stateName == 'searchText') {\n\t\t\tthis.setState({\n\t\t\t\t[stateName]: value\n\t\t\t});\n\t\t}\n\t\t\n\t}\n\t\n\tcomponentWillUnmount() {\n\t\tif (source) source.cancel();\n\t}\n\n\n\trenderResults() {\n\t\tif (this.state.isLoaded) {\n\t\t\tif (this.state.searchResult.length > 0) {\n\t\t\t\treturn <ShowResults results={this.state.searchResult} />\n\t\t\t} \n\t\t\tif (this.state.searchResult.length == 0) {\n\t\t\t\treturn <div id='noResultsMsg'>No results! Try another search</div>\n\t\t\t}\n\t\t}\n\t}\n\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div id=\"filter-container\"> \n\t\t\t\t\t<div id=\"restrictions-body\">\n\n\t\t\t\t\t\t<div className=\"filterDivs\">\n\t\t\t\t\t\t\t<span className='restriction-label'>Dietary</span>\n\t\t\t\t\t\t\t<MultiSelectMenu \n\t\t\t\t\t\t\t\tname='diet'\n\t\t\t\t\t\t\t\toptions={dietOptions}\n\t\t\t\t\t\t\t\tstate={this.state.diet}\n\t\t\t\t\t\t\t\thandleInput={(e) => this.handleInput(e.target.name, e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\n\n\t\t\t\t\t\t<div className=\"filterDivs\">\n\t\t\t\t \t\t\t<span className='restriction-label'>Time</span>\n\t\t\t\t\t\t\t<label className=\"check-container\"> \n\t\t\t\t\t\t\t\t<span className='lt-sym'>&lt;</span> 30 min\n\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\tname=\"time\" \n\t\t\t\t\t\t\t\t\tvalue='30' \n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tchecked={this.state.time === \"30\"} \n\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleInput(e.target.name, e.target.value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"checkmark\"></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label className=\"check-container\"> \n\t\t\t\t\t\t\t\t<span className='lt-sym'>&lt;</span> 45 min\n\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\tname=\"time\" \n\t\t\t\t\t\t\t\t\tvalue=\"45\" \n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tchecked={this.state.time === \"45\"}\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleInput(e.target.name, e.target.value)} \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"checkmark\"></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label className=\"check-container\"> \n\t\t\t\t\t\t\t\t<span className='lt-sym'>&lt;</span> 60 min\n\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\tname=\"time\" \n\t\t\t\t\t\t\t\t\tvalue=\"60\" \n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tchecked={this.state.time === \"60\"} \n\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleInput(e.target.name, e.target.value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"checkmark\"></span>\n\t\t\t\t\t\t\t</label> \n\t\t\t\t\t\t</div>\n\n\n\n\t\t\t\t\t\t<div className=\"filterDivs\">\n\t\t\t\t\t\t\t<span className='restriction-label dropMenu-label'>Culinary</span>\n\t\t\t\t\t\t\t<DropMenu \n\t\t\t\t\t\t\t\tname='cuisine'\n\t\t\t\t\t\t\t\toptions={cuisine} \n\t\t\t\t\t\t\t\thandleInput = {(e) => this.handleInput(e.target.name, e.target.value)}\n\t\t\t\t\t\t\t\tstate={this.state.cuisine}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t<div className=\"filterDivs\">\n\t\t\t\t\t\t\t<span className='restriction-label dropMenu-label'>Meal Type</span>\n\t\t\t\t\t\t\t<DropMenu \n\t\t\t\t\t\t\t\tname='mealType'\n\t\t\t\t\t\t\t\toptions={mealTypes} \n\t\t\t\t\t\t\t\thandleInput = {(e) => this.handleInput(e.target.name, e.target.value)}\n\t\t\t\t\t\t\t\tstate={this.state.mealType}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\t\t\t\t{\tthis.renderResults()\t}\n\t\t\t\t\n\t\t\t\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\n\n\n\n\n\n\nexport default Searchpage;\n\n\n\n"]},"metadata":{},"sourceType":"module"}