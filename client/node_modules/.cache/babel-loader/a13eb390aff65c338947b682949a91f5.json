{"ast":null,"code":"var _jsxFileName = \"/Users/ryan/Documents/cookwell-react-express/client/src/pages/account-pages/submit-recipe.jsx\";\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { Redirect } from 'react-router';\nimport { mealTypes, dietOptions, cuisine } from '../../searchOptions';\nimport './submit-recipe.sass';\nimport axios from 'axios';\nimport { getURLparam } from '../../functions';\nimport DropMenu from '../../components/dropMenu';\nimport MultiSelectMenu from '../../components/multiSelectMenu';\nimport Ingredients from '../../components/ingredients';\nimport Methods from '../../components/method';\nimport Notes from '../../components/notes';\nimport PhotoShow from './photoShow';\nimport DeleteRecipe from '../../components/deleteRecipe';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass submitRecipe extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      rid: '',\n      title: '',\n      description: '',\n      mealType: '',\n      diet: [],\n      cuisine: [],\n      servings: '',\n      cookTime: '',\n      ingredients: [{\n        gtext: '',\n        qty: '',\n        unit: ''\n      }],\n      method: [''],\n      notes: [''],\n      file: null,\n      fileName: '',\n      fileObjURL: '',\n      error: null,\n      errMsg: '',\n      redirect: false\n    };\n    let cancel;\n    const CancelToken = axios.CancelToken;\n    this.fileRef = /*#__PURE__*/React.createRef();\n    this.handleInput = this.handleInput.bind(this);\n    this.removeField = this.removeField.bind(this);\n    this.addField = this.addField.bind(this);\n    this.fileHandler = this.fileHandler.bind(this);\n    this.uploadRecipe = this.uploadRecipe.bind(this);\n    this.saveEdit = this.saveEdit.bind(this);\n    this.handleError = this.handleError.bind(this);\n    this.redirect = this.redirect.bind(this);\n  }\n\n  redirect() {\n    this.setState({\n      redirect: true\n    });\n  } // put file into state variable\n\n\n  fileHandler(event) {\n    if (this.fileRef.current.files[0]) {\n      this.setState({\n        file: event.target.files[0],\n        fileName: this.fileRef.current.files[0].name,\n        fileObjURL: URL.createObjectURL(event.target.files[0])\n      });\n    }\n  }\n\n  addField(stateName) {\n    var newState = this.state[stateName];\n    stateName == 'ingredients' && newState.push({\n      gtext: '',\n      qty: '',\n      unit: ''\n    });\n    stateName == 'method' && newState.push('');\n    stateName == 'notes' && newState.push('');\n    this.setState({\n      [stateName]: newState\n    });\n  }\n\n  removeField(stateName) {\n    var newState = this.state[stateName];\n\n    if (newState.length > 1) {\n      newState.pop();\n      this.setState({\n        [stateName]: newState\n      });\n    }\n  }\n\n  handleInput(fieldName, value, number = null) {\n    // ingredients\n    if (fieldName === 'qty' || fieldName === 'unit' || fieldName === 'gtext') {\n      var newState = this.state.ingredients;\n      newState[parseInt(number)][fieldName] = value;\n      this.setState({\n        ingredients: newState\n      });\n      return null;\n    } // method\n\n\n    if (fieldName === 'method') {\n      var newState = this.state.method;\n      newState[number] = value;\n      this.setState({\n        method: newState\n      });\n      return null;\n    } // notes\n\n\n    if (fieldName === 'text') {\n      var newState = this.state.notes;\n      newState[number] = value;\n      this.setState({\n        notes: newState\n      });\n      return null;\n    } // title, description, servings, cookTime, mealType\n\n\n    if (fieldName === 'title' || fieldName === 'description' || fieldName === 'servings' || fieldName === 'cookTime' || fieldName === 'mealType') {\n      var newState = value;\n    } // diet\n\n\n    if (fieldName === 'diet') {\n      var dietArr = this.state.diet;\n      var ind = dietArr.indexOf(value);\n\n      if (!dietArr.includes(value)) {\n        dietArr.push(value);\n        var newState = dietArr;\n      } else {\n        dietArr.splice(ind, 1);\n        var newState = dietArr;\n      }\n    } // cuisine\n\n\n    if (fieldName === 'cuisine') {\n      var cuisineArr = this.state.cuisine;\n      var ind = cuisineArr.indexOf(value);\n\n      if (!cuisineArr.includes(value)) {\n        cuisineArr.push(value);\n        var newState = cuisineArr;\n      } else {\n        cuisineArr.splice(ind, 1);\n        var newState = cuisineArr;\n      }\n    } //update state\n\n\n    this.setState({\n      [fieldName]: newState\n    });\n  }\n\n  componentDidMount() {\n    let editId = getURLparam('editId');\n\n    if (editId) {\n      axios.get('/api/recipes/getedit/' + encodeURIComponent(editId), {\n        cancelToken: new CancelToken(function executor(c) {\n          cancel = c;\n        })\n      }).then(res => {\n        this.setState({\n          rid: res.data._id,\n          title: res.data.title,\n          description: res.data.description,\n          mealType: res.data.mealType,\n          diet: res.data.diet,\n          cuisine: res.data.cuisine,\n          servings: res.data.servings,\n          cookTime: res.data.cookTime,\n          ingredients: res.data.ingredients,\n          method: res.data.method,\n          notes: res.data.notes,\n          fileName: res.data.img\n        });\n      }).catch(err => console.log(err));\n    }\n  }\n\n  uploadRecipe() {\n    // formData does not suport nested objects, only key/value pairs. So any nested data was turned into json strings. And then converted into objects on the server side\n    var formData = new FormData();\n    formData.append('file', this.state.file);\n    formData.append('title', this.state.title);\n    formData.append('description', this.state.description);\n    formData.append('mealType', this.state.mealType);\n    formData.append('diet', JSON.stringify(this.state.diet));\n    formData.append('cuisine', JSON.stringify(this.state.cuisine));\n    formData.append('servings', this.state.servings);\n    formData.append('cookTime', this.state.cookTime);\n    formData.append('ingredients', JSON.stringify(this.state.ingredients));\n    formData.append('method', JSON.stringify(this.state.method));\n    formData.append('notes', JSON.stringify(this.state.notes));\n    axios.post('/api/recipes/upload', formData, {\n      cancelToken: new CancelToken(function executor(c) {\n        cancel = c;\n      })\n    }).then(response => {\n      this.setState({\n        redirect: true\n      }); // redirect back to my-account page and display success msg on page})\n    }).catch(error => {\n      console.log(error.response.data);\n\n      if (error.response.data !== 'undefined') {\n        this.setState({\n          error: true,\n          errMsg: error.response.data\n        });\n      }\n    });\n  }\n\n  saveEdit() {\n    console.log('attempt');\n    var fdata = new FormData();\n    fdata.append('file', this.state.file);\n    fdata.append('title', this.state.title);\n    fdata.append('rid', this.state.rid);\n    fdata.append('description', this.state.description);\n    fdata.append('mealType', this.state.mealType);\n    fdata.append('diet', JSON.stringify(this.state.diet));\n    fdata.append('cuisine', JSON.stringify(this.state.cuisine));\n    fdata.append('servings', this.state.servings);\n    fdata.append('cookTime', this.state.cookTime);\n    fdata.append('ingredients', JSON.stringify(this.state.ingredients));\n    fdata.append('method', JSON.stringify(this.state.method));\n    fdata.append('notes', JSON.stringify(this.state.notes)); // for (let [key, value] of fdata.entries()) { \n    //   console.log(key, value);\n    // }\n\n    axios.post('/api/recipes/saveEdit', fdata, {\n      cancelToken: new CancelToken(function executor(c) {\n        cancel = c;\n      })\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      this.setState({\n        redirect: true // redirect back to my-account page and display success msg on page\n\n      });\n    }).catch(error => {\n      if (typeof error.response.data !== 'undefined') {\n        this.setState({\n          error: true,\n          errMsg: error.response.data\n        });\n      } else {\n        console.log(error);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (cancel()) {\n      cancel();\n    }\n  }\n\n  handleError(error, msg) {\n    if (error) {\n      const timer = setTimeout(() => {\n        this.setState({\n          // remove error msg\n          error: false,\n          errMsg: ''\n        });\n      }, 5500);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bannerMsgBar\",\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this); // output msg\n    }\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: \"/my-account\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [this.handleError(this.state.error, this.state.errMsg), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"accountContent\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"submit-container\",\n            children: [/*#__PURE__*/_jsxDEV(DeleteRecipe, {\n              edit: this.props.edit,\n              rid: this.state.rid,\n              redirect: this.redirect\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this), this.props.edit ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"my-account-titles\",\n              children: \"Edit Recipe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"my-account-titles\",\n              children: \"Submit Recipe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"req-note\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"requiredStar\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 9\n              }, this), \"Required\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"subRec-field-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"img-pos\",\n                children: /*#__PURE__*/_jsxDEV(PhotoShow, {\n                  imageType: \"recipe\",\n                  ref: this.fileRef,\n                  onChange: this.fileHandler,\n                  file: this.state.file,\n                  fileName: this.state.fileName,\n                  fileObjURL: this.state.fileObjURL\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"std-field-label pos-photo-title\",\n                children: [\"Photo\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"requiredStar\",\n                  children: \" *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 65\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"subRec-field-container title clearfix\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"std-field-label\",\n                children: [\"Title\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"requiredStar\",\n                  children: \" *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"titleInput\",\n                type: \"text\",\n                name: \"title\",\n                maxLength: \"80\",\n                value: this.state.title,\n                onChange: e => this.handleInput(e.target.name, e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"subRec-field-container description clearfix\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"std-field-label\",\n                children: [\"Description\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"requiredStar\",\n                  children: \" *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"description\",\n                rows: \"4\",\n                cols: \"54\",\n                maxLength: \"500\",\n                minLength: \"100\",\n                value: this.state.description,\n                onChange: e => this.handleInput(e.target.name, e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"subRec-field-container servings\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"std-field-label\",\n                children: [\"Servings\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"requiredStar\",\n                  children: \" *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"pos-input\",\n                type: \"text\",\n                name: \"servings\",\n                placeholder: \"example 1-9 persons or 24 Cookies\",\n                maxLength: \"40\",\n                value: this.state.servings,\n                onChange: e => this.handleInput(e.target.name, e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"subRec-field-container time\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"std-field-label\",\n                children: [\"Cook & Preparation Time\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"requiredStar\",\n                  children: \" *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 22\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"pos-input cookTime-input\",\n                type: \"text\",\n                name: \"cookTime\",\n                placeholder: \"minutes\",\n                maxLength: \"3\",\n                value: this.state.cookTime,\n                onChange: e => this.handleInput(e.target.name, e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 18\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"subRec-field-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sub-subRec-field-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"subRec-title std-field-label\",\n                  children: [\"Meal Type\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"requiredStar\",\n                    children: \" *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 11\n                }, this), mealTypes.map((mealType, index) => /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"check-container\",\n                  children: [mealType, /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"mealType\",\n                    value: mealType,\n                    type: \"checkbox\",\n                    checked: this.state.mealType === mealType,\n                    onChange: e => this.handleInput(e.target.name, e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"checkmark\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 13\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 12\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sub-subRec-field-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"subRec-title std-field-label\",\n                  children: \"Dietary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(MultiSelectMenu, {\n                  name: \"diet\",\n                  options: dietOptions,\n                  handleInput: e => this.handleInput(e.target.name, e.target.value),\n                  state: this.state.diet\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sub-subRec-field-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"subRec-title std-field-label\",\n                  children: \"Cuisine\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(MultiSelectMenu, {\n                  name: \"cuisine\",\n                  options: cuisine,\n                  handleInput: e => this.handleInput(e.target.name, e.target.value),\n                  state: this.state.cuisine\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Ingredients, {\n              addField: this.addField,\n              ingredients: this.state.ingredients,\n              handleInput: this.handleInput,\n              removeField: this.removeField\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Methods, {\n              addField: this.addField,\n              removeField: this.removeField,\n              handleInput: this.handleInput,\n              methods: this.state.method\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Notes, {\n              addField: this.addField,\n              removeField: this.removeField,\n              handleInput: this.handleInput,\n              notes: this.state.notes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 8\n            }, this), this.props.edit ? /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"submitr-btn\",\n              type: \"submit\",\n              name: \"submit_edit\",\n              onClick: this.saveEdit,\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 20\n            }, this) : /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"submitr-btn\",\n                type: \"submit\",\n                name: \"submit\",\n                onClick: this.uploadRecipe,\n                children: \"Submit Recipe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"submit-note\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"Once submitted, recipes are reviewed for grammar and clarity.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 458,\n                    columnNumber: 21\n                  }, this), \"Please be patient while recipies upload.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 20\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 20\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 5\n      }, this);\n    }\n  }\n\n}\n\nexport default submitRecipe;","map":{"version":3,"sources":["/Users/ryan/Documents/cookwell-react-express/client/src/pages/account-pages/submit-recipe.jsx"],"names":["React","Link","Redirect","mealTypes","dietOptions","cuisine","axios","getURLparam","DropMenu","MultiSelectMenu","Ingredients","Methods","Notes","PhotoShow","DeleteRecipe","submitRecipe","Component","constructor","props","state","rid","title","description","mealType","diet","servings","cookTime","ingredients","gtext","qty","unit","method","notes","file","fileName","fileObjURL","error","errMsg","redirect","cancel","CancelToken","fileRef","createRef","handleInput","bind","removeField","addField","fileHandler","uploadRecipe","saveEdit","handleError","setState","event","current","files","target","name","URL","createObjectURL","stateName","newState","push","length","pop","fieldName","value","number","parseInt","dietArr","ind","indexOf","includes","splice","cuisineArr","componentDidMount","editId","get","encodeURIComponent","cancelToken","executor","c","then","res","data","_id","img","catch","err","console","log","formData","FormData","append","JSON","stringify","post","response","fdata","headers","componentWillUnmount","msg","timer","setTimeout","render","pathname","edit","e","map","index"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { Redirect } from 'react-router'\nimport { mealTypes, dietOptions, cuisine } from '../../searchOptions';\nimport './submit-recipe.sass';\nimport axios from 'axios';\nimport { getURLparam } from '../../functions';\n\nimport DropMenu from '../../components/dropMenu';\nimport MultiSelectMenu from '../../components/multiSelectMenu';\nimport Ingredients from '../../components/ingredients';\nimport Methods from '../../components/method';\nimport Notes from '../../components/notes';\nimport PhotoShow from './photoShow';\nimport DeleteRecipe from '../../components/deleteRecipe';\n\n\n\n\nclass submitRecipe extends React.Component {\n\tconstructor(props) {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\trid: '',\n\t\t\ttitle: '',\n\t\t\tdescription: '',\n\t\t\tmealType: '',\n\t\t\tdiet: [],\n\t\t\tcuisine: [],\t\n\t\t\tservings: '',\t\t\t\n\t\t\tcookTime: '',\n\t\t\tingredients: [{gtext: '', qty: '', unit: ''}],\n\t\t\tmethod: [''],\n\t\t\tnotes: [''],\n\t\t\tfile: null,\n\t\t\tfileName: '',\n\t\t\tfileObjURL: '',\n\t\t\terror: null,\n\t\t\terrMsg: '',\n\t\t\tredirect: false\n\t\t};\n\t\tlet cancel;\n\t\tconst CancelToken = axios.CancelToken;\n\t\tthis.fileRef = React.createRef();\n\t\tthis.handleInput = this.handleInput.bind(this);\n\t\tthis.removeField = this.removeField.bind(this);\n\t\tthis.addField = this.addField.bind(this);\n\t\tthis.fileHandler = this.fileHandler.bind(this);\n\t\tthis.uploadRecipe = this.uploadRecipe.bind(this);\n\t\tthis.saveEdit = this.saveEdit.bind(this);\n\t\tthis.handleError = this.handleError.bind(this);\n\t\tthis.redirect = this.redirect.bind(this);\n\t}\n\n\tredirect() {\n\t\tthis.setState({redirect: true});\n\t}\n\n\t// put file into state variable\n\tfileHandler(event) {\n\t\tif (this.fileRef.current.files[0]) {\n\t   \t\tthis.setState({\n\t   \t\t\tfile: event.target.files[0],\n\t   \t\t\tfileName: this.fileRef.current.files[0].name,\n\t   \t\t\tfileObjURL: URL.createObjectURL(event.target.files[0])\n\t\t\t})\n\t   \t}\n\t}\n\n\taddField(stateName) {\n\t\tvar newState = this.state[stateName];\n\t\tstateName == 'ingredients' && newState.push( {gtext: '', qty: '', unit: ''} );\n\t\tstateName == 'method' && newState.push('');\n\t\tstateName == 'notes' && newState.push('');\n\t\tthis.setState({[stateName]: newState});\n\t}\n\n\tremoveField(stateName) {\n\t\tvar newState = this.state[stateName];\n\t\tif (newState.length > 1) {\n\t\t\tnewState.pop();\n\t\t\tthis.setState({[stateName]: newState});\n\t\t}\n\t}\n\n\n\thandleInput(fieldName, value, number = null) {\n\t\t// ingredients\n\t\tif (fieldName === 'qty' || fieldName === 'unit' || fieldName === 'gtext') {\n\t\t\tvar newState = this.state.ingredients;\n\t\t\tnewState[parseInt(number)][fieldName] = value;\n\t\t\tthis.setState({ingredients: newState});\t\n\t\t\treturn null;\n\t\t}\n\t\t// method\n\t\tif (fieldName === 'method') {\n\t\t\tvar newState = this.state.method;\n\t\t\tnewState[number] = value;\n\t\t\tthis.setState({method: newState});\t\n\t\t\treturn null;\n\t\t}\n\t\t// notes\n\t\tif (fieldName === 'text') {\n\t\t\tvar newState = this.state.notes;\n\t\t\tnewState[number] = value;\n\t\t\tthis.setState({notes: newState});\t\n\t\t\treturn null;\n\t\t}\n\t\t// title, description, servings, cookTime, mealType\n\t\tif (fieldName === 'title' || fieldName === 'description' || fieldName === 'servings' || fieldName === 'cookTime' || fieldName === 'mealType') {\n\t\t\tvar newState = value;\n\t\t}\n\t\t// diet\n\t\tif (fieldName === 'diet') {\n\t\t\tvar dietArr = this.state.diet;\n\t\t\tvar ind = dietArr.indexOf(value);\n\t\t\tif (!dietArr.includes(value)) {\n\t\t\t\tdietArr.push(value);\n\t\t\t\tvar newState = dietArr;\n\t\t\t} else {\n\t\t\t\tdietArr.splice(ind, 1);\n\t\t\t\tvar newState = dietArr;\n\t\t\t}\n\t\t}\n\t\t// cuisine\n\t\tif (fieldName === 'cuisine') {\n\t\t\tvar cuisineArr = this.state.cuisine;\n\t\t\tvar ind = cuisineArr.indexOf(value);\n\t\t\tif (!cuisineArr.includes(value)) {\n\t\t\t\tcuisineArr.push(value);\n\t\t\t\tvar newState = cuisineArr;\n\t\t\t} else {\n\t\t\t\tcuisineArr.splice(ind, 1);\n\t\t\t\tvar newState = cuisineArr;\n\t\t\t}\n\t\t}\n\n\t\t//update state\n\t\tthis.setState({\n\t\t\t[fieldName]: newState\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tlet editId = getURLparam('editId');\n\t\tif (editId) {\n\t\t\taxios.get('/api/recipes/getedit/' + encodeURIComponent(editId), {cancelToken: new CancelToken(function executor(c) {cancel = c}) })\t\t\t\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\trid: res.data._id,\n\t\t\t\t\t\ttitle: res.data.title,\n\t\t\t\t\t\tdescription: res.data.description,\n\t\t\t\t\t\tmealType: res.data.mealType,\n\t\t\t\t\t\tdiet: res.data.diet,\n\t\t\t\t\t\tcuisine: res.data.cuisine,\n\t\t\t\t\t\tservings: res.data.servings,\n\t\t\t\t\t\tcookTime: res.data.cookTime,\n\t\t\t\t\t\tingredients: res.data.ingredients,\n\t\t\t\t\t\tmethod: res.data.method,\n\t\t\t\t\t\tnotes: res.data.notes, \n\t\t\t\t\t\tfileName: res.data.img\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\n\t\t}\n\t}\n\n\tuploadRecipe() {\n\t\t// formData does not suport nested objects, only key/value pairs. So any nested data was turned into json strings. And then converted into objects on the server side\n\t\tvar formData = new FormData();\n   \t\tformData.append('file', this.state.file);\n   \t\tformData.append('title', this.state.title);\n   \t\tformData.append('description', this.state.description);\n   \t\tformData.append('mealType', this.state.mealType);\n   \t\tformData.append('diet', JSON.stringify(this.state.diet));\n   \t\tformData.append('cuisine', JSON.stringify(this.state.cuisine));\n   \t\tformData.append('servings', this.state.servings);\n   \t\tformData.append('cookTime', this.state.cookTime);\n   \t\tformData.append('ingredients', JSON.stringify(this.state.ingredients));\n   \t\tformData.append('method', JSON.stringify(this.state.method));\n   \t\tformData.append('notes', JSON.stringify(this.state.notes));\n\n\n\t\taxios.post('/api/recipes/upload', formData, {cancelToken: new CancelToken(function executor(c) {cancel = c}) })\n\t \t.then(response => {\n\t \t\tthis.setState({redirect: true}) // redirect back to my-account page and display success msg on page})\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.log(error.response.data); \n\t\t\tif (error.response.data !== 'undefined') {\n\t\t\t\tthis.setState({\n\t\t\t\t\terror: true,\n\t\t\t\t\terrMsg: error.response.data\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tsaveEdit() {\n\t\tconsole.log('attempt');\n\t\tvar fdata = new FormData();\n\t\tfdata.append('file', this.state.file);\n   \t\tfdata.append('title', this.state.title);\n   \t\tfdata.append('rid', this.state.rid);\n   \t\tfdata.append('description', this.state.description);\n   \t\tfdata.append('mealType', this.state.mealType);\n   \t\tfdata.append('diet', JSON.stringify(this.state.diet));\n   \t\tfdata.append('cuisine', JSON.stringify(this.state.cuisine));\n   \t\tfdata.append('servings', this.state.servings);\n   \t\tfdata.append('cookTime', this.state.cookTime);\n   \t\tfdata.append('ingredients', JSON.stringify(this.state.ingredients));\n   \t\tfdata.append('method', JSON.stringify(this.state.method));\n   \t\tfdata.append('notes', JSON.stringify(this.state.notes));\n\n  \t\t// for (let [key, value] of fdata.entries()) { \n\t\t//   console.log(key, value);\n\t\t// }\n\n   \t\taxios.post('/api/recipes/saveEdit', fdata, {cancelToken: new CancelToken(function executor(c) {cancel = c}) }, { headers: {'Content-Type': 'application/json'} } )\n\t\t \t.then(res => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tredirect: true // redirect back to my-account page and display success msg on page\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (typeof error.response.data !== 'undefined') {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\terror: true,\n\t\t\t\t\t\terrMsg: error.response.data\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (cancel()) {cancel()}\n\t}\n\n\t\n\thandleError(error, msg){\n\t\tif (error) {\n\t\t\tconst timer = setTimeout(() => {\n\t\t\t\tthis.setState({\t// remove error msg\n\t\t\t\t\terror: false,\n\t\t\t\t\terrMsg: ''\n\t\t\t\t});\n\t\t\t}, 5500);\n\t\t\treturn <div className='bannerMsgBar'>{msg}</div>; // output msg\n\t\t}\n\t}\n\n\n\trender() {\n\n\t\tif (this.state.redirect) {\n\t\t\treturn <Redirect to={{pathname: \"/my-account\"}} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\n\t\t\t\t\t{ this.handleError(this.state.error, this.state.errMsg) }\n\n\t\t\t\t\t<div className=\"accountContent\">\n\t\t\t\t\t\t<div id=\"submit-container\">\n\t\t\t\t\t\t\t\n\t\t\t           \t\t<DeleteRecipe \n\t\t\t           \t\t\tedit={this.props.edit}\n\t\t\t           \t\t\trid={this.state.rid}\n\t\t\t           \t\t\tredirect={this.redirect}\n\t\t\t           \t\t\t/>\n\n\t\t\t\t            {\tthis.props.edit\n\t\t\t\t            \t\t? <div className='my-account-titles'>Edit Recipe</div>\n\t\t\t\t            \t\t: <div className='my-account-titles'>Submit Recipe</div>\t\t            \t\n\t\t\t\t            }\n\n\t\t\t\t            <div id=\"req-note\">\n\t\t\t\t\t\t\t\t<span className=\"requiredStar\">*</span> \n\t\t\t\t\t\t\t\tRequired\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t<div className='subRec-field-container'>\n\t\t\t\t\t\t\t\t<div id='img-pos'> \n\t\t\t\t\t\t\t\t\t<PhotoShow \n\t\t\t\t\t\t\t\t\t\timageType='recipe'\n\t\t\t\t\t\t\t\t\t\tref={this.fileRef} \n\t\t\t\t\t\t\t\t\t\tonChange={this.fileHandler}\n\t\t\t\t\t\t\t\t\t\tfile={this.state.file}\n\t\t\t\t\t\t\t\t\t\tfileName={this.state.fileName}\n\t\t\t\t\t\t\t\t\t\tfileObjURL={this.state.fileObjURL}\n\t\t\t\t\t\t\t\t\t\t/> \n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<label className='std-field-label pos-photo-title'>Photo<span className='requiredStar'> *</span> </label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t               \n\n\n\t\t\t\t        \n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t<div className=\"subRec-field-container title clearfix\">\n\t\t\t\t\t\t\t\t<label className='std-field-label'>\n\t\t\t\t\t\t\t\t\tTitle\n\t\t\t\t\t\t\t\t\t<span className=\"requiredStar\"> *</span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\tid=\"titleInput\" \n\t\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\t\tname=\"title\" \n\t\t\t\t\t\t\t\t\tmaxLength=\"80\" \n\t\t\t\t\t\t\t\t\tvalue={this.state.title}\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleInput(e.target.name, e.target.value)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\n\n\t\t\t\t\t\t\t<div className=\"subRec-field-container description clearfix\">\n\t\t\t\t\t\t\t\t<label className='std-field-label'>\n\t\t\t\t\t\t\t\t\tDescription\n\t\t\t\t\t\t\t\t\t<span className=\"requiredStar\"> *</span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\t\t\tname=\"description\" \n\t\t\t\t\t\t\t\t\trows=\"4\" \n\t\t\t\t\t\t\t\t\tcols=\"54\" \n\t\t\t\t\t\t\t\t\tmaxLength=\"500\" \n\t\t\t\t\t\t\t\t\tminLength=\"100\" \n\t\t\t\t\t\t\t\t\tvalue={this.state.description}\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleInput(e.target.name, e.target.value)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t</div>\n\n\n\n\n\n\t\t\t\t\t\t\t<div className=\"subRec-field-container servings\">\n\t\t\t\t\t\t\t\t<label className='std-field-label'>\n\t\t\t\t\t\t\t\t\tServings\n\t\t\t\t\t\t\t\t\t<span className=\"requiredStar\"> *</span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\tclassName='pos-input'\n\t\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\t\tname=\"servings\"\n\t\t\t\t\t\t\t\t\tplaceholder='example 1-9 persons or 24 Cookies' \n\t\t\t\t\t\t\t\t\tmaxLength=\"40\" \n\t\t\t\t\t\t\t\t\tvalue={this.state.servings}\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleInput(e.target.name, e.target.value)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\n\n\n\t\t\t\t            <div className=\"subRec-field-container time\">\n\t\t\t\t               \t<label className='std-field-label'>\n\t\t\t\t               \t\tCook & Preparation Time\n\t\t\t\t               \t\t<span className=\"requiredStar\"> *</span>\n\t\t\t\t               \t</label>\n\t\t\t\t            \t<input \n\t\t\t\t            \t\tclassName=\"pos-input cookTime-input\" \n\t\t\t\t            \t\ttype=\"text\" \n\t\t\t\t            \t\tname=\"cookTime\" \n\t\t\t\t            \t\tplaceholder='minutes'\n\t\t\t\t            \t\tmaxLength=\"3\" \n\t\t\t\t            \t\tvalue={this.state.cookTime}\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleInput(e.target.name, e.target.value)}\n\t\t\t\t            \t\t/>\n\t\t\t\t            </div>\n\n\t\t\t\t\t\t\t<div className=\"subRec-field-container\">\n\n\t\t\t\t\t\t\t\t<div className=\"sub-subRec-field-container\">\n\t\t\t\t\t\t \t\t\t<label className='subRec-title std-field-label'>\n\t\t\t\t\t\t\t\t\t\tMeal Type\n\t\t\t\t\t\t\t\t\t\t<span className=\"requiredStar\"> *</span>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t{ \tmealTypes.map((mealType, index) => \n\t\t\t\t\t\t\t\t\t\t\t<label key={index} className=\"check-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t{mealType}\n\t\t\t\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"mealType\" \n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={mealType} \n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.mealType === mealType} \n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleInput(e.target.name, e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"checkmark\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"sub-subRec-field-container\">\n\t\t\t\t\t\t\t\t\t<label className='subRec-title std-field-label'>\n\t\t\t\t\t\t\t\t\t\tDietary\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<MultiSelectMenu \n\t\t\t\t\t\t\t\t\t\tname='diet'\n\t\t\t\t\t\t\t\t\t\toptions={dietOptions}\n\t\t\t\t\t\t\t\t\t\thandleInput={(e) => this.handleInput(e.target.name, e.target.value)}\n\t\t\t\t\t\t\t\t\t\tstate={this.state.diet}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"sub-subRec-field-container\">\n\t\t\t\t\t\t\t\t\t<label className='subRec-title std-field-label'>\n\t\t\t\t\t\t\t\t\t\tCuisine\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<MultiSelectMenu \n\t\t\t\t\t\t\t\t\t\tname='cuisine'\n\t\t\t\t\t\t\t\t\t\toptions={cuisine}\n\t\t\t\t\t\t\t\t\t\thandleInput={(e) => this.handleInput(e.target.name, e.target.value)}\n\t\t\t\t\t\t\t\t\t\tstate={this.state.cuisine}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t<Ingredients \n\t\t\t\t\t\t\t\taddField={this.addField} \n\t\t\t\t\t\t\t\tingredients={this.state.ingredients} \n\t\t\t\t\t\t\t\thandleInput={this.handleInput} \n\t\t\t\t\t\t\t\tremoveField={this.removeField}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<Methods\n\t\t\t\t\t\t\t\taddField={this.addField}\n\t\t\t\t\t\t\t\tremoveField={this.removeField}\n\t\t\t\t\t\t\t\thandleInput={this.handleInput}\n\t\t\t\t\t\t\t\tmethods={this.state.method}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<Notes \n\t\t\t\t\t\t\t\taddField={this.addField}\n\t\t\t\t\t\t\t\tremoveField={this.removeField}\n\t\t\t\t\t\t\t\thandleInput={this.handleInput}\n\t\t\t\t\t\t\t\tnotes={this.state.notes}\n\t\t\t\t\t\t\t\t/>\n\n\n\n\t\t\t\t   \t\t\t{\tthis.props.edit\n\t\t\t\t            \t? <button className=\"submitr-btn\" type=\"submit\" name=\"submit_edit\" onClick={this.saveEdit}>Save Changes</button>\n\t\t\t\t            \t: <React.Fragment>\n\t\t\t\t            \t\t<button className=\"submitr-btn\" type=\"submit\" name=\"submit\" onClick={this.uploadRecipe}>Submit Recipe</button>\n\t\t\t\t            \t\t<div id=\"submit-note\">\n\t\t\t\t            \t\t\t<div>\n\t\t\t\t            \t\t\t\tOnce submitted, recipes are reviewed for grammar and clarity.\n\t\t\t\t            \t\t\t\t<br/>Please be patient while recipies upload.\n\t\t\t\t            \t\t\t</div>\n\t\t\t\t            \t\t</div>  \n\t\t\t\t            \t  </React.Fragment> \n\t\t\t\t            }\n\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\t}\n}\n\n\n\n\n\nexport default submitRecipe;\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}