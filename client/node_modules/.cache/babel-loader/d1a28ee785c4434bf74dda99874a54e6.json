{"ast":null,"code":"var _jsxFileName = \"/Users/ryan/Documents/cookwell-react-express/client/src/pages/login-page.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useEffect, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport './login-page.sass';\nimport { withRouter } from \"react-router\";\nimport PropTypes from \"prop-types\";\nimport axios from 'axios'; // tried using functionalc component insead of class component to complete a form. Just for kicks\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Loginpage(props) {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [pwd, setPwd] = useState('');\n  const [msg, setMsg] = useState('');\n\n  function handleMsg(msg) {\n    if (msg.length > 0) {\n      const timer = setTimeout(() => {\n        setMsg(msg);\n      }, 5500);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"loginMsg\",\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 11\n      }, this); // output msg\n    }\n  }\n\n  function recordEmail(email) {\n    setEmail(email);\n  }\n\n  function recordPwd(pwd) {\n    setPwd(pwd);\n  }\n\n  function login(email, pwd) {\n    // const postOptions = {\n    //         method: 'POST',\n    //         headers: { 'Content-Type': 'application/json' },\n    //         body: JSON.stringify({\n    //         \temail: email,\n    //         \tpassword: pwd\n    //         })\n    //     };\n    // fetch('/api/users/login', postOptions)\n    // \t.then(res => res.json())\n    // \t.then(data => {\n    // \t\tlocalStorage['logged_in'] = true;\n    // \t\tprops.login();\n    // \t\tprops.history.push('/'); // redirect using withRouter and prototypes import\n    // \t})\n    // \t.catch((error) => console.log(error));\n    const data = JSON.stringify({\n      email: email,\n      password: pwd\n    });\n    axios.post('/api/users/login', data, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      localStorage['logged_in'] = true;\n      props.login();\n      props.history.push('/'); // redirect using withRouter and prototypes import\n    }).catch(error => {\n      if (typeof error.response.data !== 'undefined') setMsg(error.response.data);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loginContainer\",\n      children: [handleMsg(msg), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        placeholder: \"Email\",\n        value: email,\n        onChange: e => recordEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"hp\",\n        type: \"text\",\n        name: \"email_two\",\n        placeholder: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"Password\",\n        name: \"pwd\",\n        placeholder: \"Password\",\n        value: pwd,\n        onChange: e => recordPwd(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => login(email, pwd),\n        id: \"logInBtn\",\n        type: \"submit\",\n        name: \"submit-loginPage\",\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"forgotPwd\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/forgot-passsword\",\n          children: \"Forgot Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"signUp\",\n        children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup-page\",\n          children: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Loginpage, \"bSYpRVT06wCJpN21bEnsGsECEI0=\");\n\n_c = Loginpage;\nconst LoginpageWithRouter = withRouter(Loginpage);\n_c2 = LoginpageWithRouter;\nexport default LoginpageWithRouter;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Loginpage\");\n$RefreshReg$(_c2, \"LoginpageWithRouter\");","map":{"version":3,"sources":["/Users/ryan/Documents/cookwell-react-express/client/src/pages/login-page.jsx"],"names":["React","Component","useEffect","useState","Link","withRouter","PropTypes","axios","Loginpage","props","email","setEmail","pwd","setPwd","msg","setMsg","handleMsg","length","timer","setTimeout","recordEmail","recordPwd","login","data","JSON","stringify","password","post","headers","then","res","localStorage","history","push","catch","error","response","e","target","value","LoginpageWithRouter"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport './login-page.sass';\nimport { withRouter } from \"react-router\";\nimport PropTypes from \"prop-types\";\nimport axios from 'axios';\n\n// tried using functionalc component insead of class component to complete a form. Just for kicks\n\n\n\nfunction Loginpage(props) {\n\n\tconst [email, setEmail] = useState('');\n\tconst [pwd, setPwd] = useState('');\n\tconst [msg, setMsg] = useState('');\n\n\tfunction handleMsg(msg) {\n\t\tif (msg.length > 0) {\n\t\t\tconst timer = setTimeout(() => {\n\t\t\t\tsetMsg(msg);\n\t\t\t}, 5500);\n\t\t\treturn <div id='loginMsg'>{msg}</div>; // output msg\n\t\t}\n\t}\n\n\n\tfunction recordEmail(email) {\n\t\tsetEmail(email);\n\t}\n\n\tfunction recordPwd(pwd) {\n\t\tsetPwd(pwd);\n\t}\n\n\tfunction login(email, pwd) {\n\t\t// const postOptions = {\n\t\t//         method: 'POST',\n\t\t//         headers: { 'Content-Type': 'application/json' },\n\t\t//         body: JSON.stringify({\n\t\t//         \temail: email,\n\t\t//         \tpassword: pwd\n\t\t//         })\n\t\t//     };\n\n\t\t// fetch('/api/users/login', postOptions)\n\t\t// \t.then(res => res.json())\n\t\t// \t.then(data => {\n\t\t// \t\tlocalStorage['logged_in'] = true;\n\t\t// \t\tprops.login();\n\t\t// \t\tprops.history.push('/'); // redirect using withRouter and prototypes import\n\t\t// \t})\n\t\t// \t.catch((error) => console.log(error));\n\n\n\t\tconst data = JSON.stringify({ email: email, password: pwd });\n\n\t\taxios.post('/api/users/login', data, { headers: {'Content-Type': 'application/json'} } )\n\t\t\t.then(res => {\n\t\t\t\tlocalStorage['logged_in'] = true;\n\t\t\t\tprops.login();\n\t\t\t\tprops.history.push('/'); // redirect using withRouter and prototypes import\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (typeof error.response.data !== 'undefined') setMsg(error.response.data);\n\t\t\t})\n\t}\n\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div className=\"loginContainer\">\n\t\t\t\t{ handleMsg(msg) }\n\t\t\t\t<input \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tname=\"email\" placeholder=\"Email\"\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={e => recordEmail(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<input \n\t\t\t\t\tclassName=\"hp\" \n\t\t\t\t\ttype=\"text\" name=\"email_two\" placeholder=\"Email\"\n\t\t\t\t/>\n\t\t\t\t<input \n\t\t\t\t\ttype=\"Password\" \n\t\t\t\t\tname=\"pwd\" \n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\tvalue={pwd}\n\t\t\t\t\tonChange={e => recordPwd(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<button \n\t\t\t\t\tonClick={() => login(email, pwd)} \n\t\t\t\t\tid=\"logInBtn\" \n\t\t\t\t\ttype=\"submit\" \n\t\t\t\t\tname=\"submit-loginPage\">Log in\n\t\t\t\t</button>\n\t\t\t\t<div id=\"forgotPwd\">\n\t\t\t\t\t<Link to=\"/forgot-passsword\">Forgot Password</Link>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"signUp\">\n\t\t\t\t\tDon't have an account? <Link to=\"/signup-page\">Sign up</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\n{/*\t\t\t<div className='accEditErrMsg-banner'>\n\n\t\t\t</div>*/}\n\t\t</React.Fragment>\n\t);\n}\n\n\nconst LoginpageWithRouter = withRouter(Loginpage);\n\n\nexport default LoginpageWithRouter;\n"]},"metadata":{},"sourceType":"module"}