{"ast":null,"code":"import _slicedToArray from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Link}from'react-router-dom';import CookProfile from'../components/cookProfile';import'./author-page.sass';import{withRouter}from\"react-router\";import axios from'axios';import BrowseCard from'../components/browseCard';import Footer from'../components/footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AuthorPage=function AuthorPage(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),recipeData=_useState4[0],setRecipeData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loadFooter=_useState6[0],setLoadFooter=_useState6[1];useEffect(function(){document.body.style.backgroundColor=\"white\";var source=axios.CancelToken.source();var body={authid:props.location.state.authid};axios.post('/api/users/getuserdata',body,{cancelToken:source.token}).then(function(res){setUserData(res.data);}).catch(function(err){return console.log(err);});axios.post('/api/recipes/getuserrecipespublic',body,{cancelToken:source.token}).then(function(res){setRecipeData(res.data);setLoadFooter(true);}).catch(function(err){return console.log(err);});return function(){return source.cancel();};},[]);var renderImg=function renderImg(img){if(img!==\"\"){return/*#__PURE__*/_jsx(\"div\",{id:\"img-wrapper\",children:/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+'/user_profile_img/card/'+userData.profileImg})});}else{return null;}};if(!userData){return null;}else{return/*#__PURE__*/_jsxs(\"div\",{id:\"cookBody\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"profile-container\",children:[renderImg(userData.profileImg),/*#__PURE__*/_jsxs(\"div\",{id:\"profile-info-container\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"authName\",children:\"Name Here\"}),/*#__PURE__*/_jsx(\"div\",{id:\"authAbout\",children:\"Lorem ipsum about serum norpy surnlimg tupe of\"})]})]}),/*#__PURE__*/_jsx(\"div\",{id:\"divider\"}),/*#__PURE__*/_jsx(\"div\",{className:\"recipe-grid-container\",children:recipeData.map(function(cardData,index){return/*#__PURE__*/_jsx(BrowseCard,{img:cardData.img,description:cardData.description,author:cardData.authid.name,aId:cardData.authid._id,index:index,edit:false,rtitle:cardData.title},index);})}),/*#__PURE__*/_jsx(Footer,{isLoaded:loadFooter})]});}};export default withRouter(AuthorPage);","map":{"version":3,"sources":["/Users/ryan/Documents/cookwell-react-express/client/src/pages/author-page.jsx"],"names":["React","useEffect","useState","Link","CookProfile","withRouter","axios","BrowseCard","Footer","AuthorPage","props","userData","setUserData","recipeData","setRecipeData","loadFooter","setLoadFooter","document","body","style","backgroundColor","source","CancelToken","authid","location","state","post","cancelToken","token","then","res","data","catch","err","console","log","cancel","renderImg","img","process","env","PUBLIC_URL","profileImg","map","cardData","index","description","name","_id","title"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from 'react-router-dom';\nimport CookProfile from '../components/cookProfile';\nimport './author-page.sass';\nimport { withRouter } from \"react-router\"; \nimport axios from 'axios';\nimport BrowseCard from '../components/browseCard';\nimport Footer from '../components/footer';\n\nconst AuthorPage = (props) => {\n\tconst [userData, setUserData] = useState(null);\n\tconst [recipeData, setRecipeData] = useState([]);\n\tconst [loadFooter, setLoadFooter] = useState(false);\n\t\n\tuseEffect(() => {\n\t\tdocument.body.style.backgroundColor = \"white\";\n\t\tlet source = axios.CancelToken.source();\n\t\tconst body = {authid: props.location.state.authid};\n\n\t\taxios.post('/api/users/getuserdata', body, {cancelToken: source.token})\n\t\t\t.then(res => {\n\t\t\t\tsetUserData(res.data);\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\n\t\taxios.post('/api/recipes/getuserrecipespublic', body, {cancelToken: source.token})\n\t\t\t.then(res => {\n\t\t\t\tsetRecipeData(res.data);\n\t\t\t\tsetLoadFooter(true);\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\n\t\treturn () => source.cancel();\n\t}, [])\n\n\n\tconst renderImg = (img) => {\n\t\tif (img !== \"\") {\n\t\t\treturn (\n\t\t\t\t<div id='img-wrapper'>\n\t\t\t\t\t<img src={process.env.PUBLIC_URL + '/user_profile_img/card/' + userData.profileImg} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tif (!userData) {\n\t\treturn null;\n\t} else {\n\t\treturn (\n\t\t\t<div id=\"cookBody\">\n\t\t\t\t<div id='profile-container'>\n\t\t\t\t\t{\trenderImg(userData.profileImg)\t}\n\t\t\t\t\t<div id='profile-info-container'>\n\t\t\t\t\t\t<div id='authName'>Name Here</div>\n\t\t\t\t\t\t<div id='authAbout'>Lorem ipsum about serum norpy surnlimg tupe of</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div id='divider'></div>\n\t\t\t\t<div className='recipe-grid-container'>\n\t\t\t\t\t{\n\t\t\t\t\t\trecipeData.map((cardData, index) => \n\t\t\t\t\t\t\t<BrowseCard \n\t\t\t\t\t\t\t\tkey={index} \n\t\t\t\t\t\t\t\timg={cardData.img} \n\t\t\t\t\t\t\t\tdescription={cardData.description} \n\t\t\t\t\t\t\t\tauthor={cardData.authid.name} \n\t\t\t\t\t\t\t\taId={cardData.authid._id} \n\t\t\t\t\t\t\t\tindex={index} \n\t\t\t\t\t\t\t\tedit={false}\n\t\t\t\t\t\t\t\trtitle={cardData.title}\n\t\t\t\t\t\t\t\t/>\t\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</div>\n\n\t\t\t<Footer isLoaded={loadFooter} />\n\t\t\t</div>\n\t\t);\n\t}\n};\n\n\nexport default withRouter(AuthorPage);"]},"metadata":{},"sourceType":"module"}