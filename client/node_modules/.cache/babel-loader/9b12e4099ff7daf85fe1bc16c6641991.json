{"ast":null,"code":"import _classCallCheck from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from\"react-router-dom\";import BrowseCard from'../../components/browseCard';import queryString from'query-string';import Footer from'../../components/footer';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";var source;var accountRecipes=/*#__PURE__*/function(_React$Component){_inherits(accountRecipes,_React$Component);var _super=_createSuper(accountRecipes);function accountRecipes(props){var _this;_classCallCheck(this,accountRecipes);_this=_super.call(this);_this.state={recipes:[],isLoaded:false,msg:''};// this.handleMsg = this.handleMsg.bind(this);\nsource=axios.CancelToken.source();return _this;}_createClass(accountRecipes,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('/api/recipes/getuserrecipesprivate',{cancelToken:source.token}).then(function(res){console.log(res.data);_this2.setState({recipes:res.data,isLoaded:true});}).catch(function(err){return console.log(err);});// read url params message, then place message into state so it can be displayed on screen\n// var url = window.location.href;\n// var urlParam = 'msg';\n// urlParam = urlParam.replace(/[\\[\\]]/g, '\\\\$&');\n//    var regex = new RegExp('[?&]' + urlParam + '(=([^&#]*)|&|#|$)'), \n//    \tresults = regex.exec(url);\n//    if (!results || !results[2]) {\n//    \treturn null;\n//    } else {\n//    \tlet m = decodeURIComponent(results[2].replace(/\\+/g, ' '));\n//    \tm = m.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n//    \tthis.setState({msg: m});\n//    }\n}// handleMsg(msg){\n// \tif (msg && msg.length > 0) {\n// \t\tconst timer = setTimeout(() => {\n// \t\t\tthis.setState({msg: ''});\n// \t\t}, 8000);\n// \t\treturn <div className='bannerMsgBar'>{msg}</div>;\n// \t}\n// }\n},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(source){source.cancel();}}},{key:\"render\",value:function render(){if(!this.state.isLoaded){return/*#__PURE__*/_jsx(\"div\",{id:\"loading-spacer\"});}else if(this.state.isLoaded&&this.state.recipes.length<1){return/*#__PURE__*/_jsx(\"div\",{id:\"loading-spacer\",children:/*#__PURE__*/_jsx(\"div\",{id:\"msg-spacer\",children:\"Your recipes will appear here\"})});}else{return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"accountContent minBodyHeight\",children:/*#__PURE__*/_jsx(\"div\",{id:\"cardContainer\",children:this.state.recipes.map(function(cardData,index){return/*#__PURE__*/_jsx(BrowseCard,{img:cardData.img,description:cardData.description,author:cardData.authid.name,aId:cardData.authid._id,edit:true,rtitle:cardData.title,rid:cardData._id},index);})})})});}}}]);return accountRecipes;}(React.Component);export default accountRecipes;","map":{"version":3,"sources":["/Users/ryan/Documents/cookwell-react-express/client/src/pages/account-pages/account-recipes.jsx"],"names":["React","Component","Link","BrowseCard","queryString","Footer","axios","source","accountRecipes","props","state","recipes","isLoaded","msg","CancelToken","get","cancelToken","token","then","res","console","log","data","setState","catch","err","cancel","length","map","cardData","index","img","description","authid","name","_id","title"],"mappings":"wpBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,6BAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2CACA,GAAIC,CAAAA,MAAJ,C,GAGMC,CAAAA,c,4HACL,wBAAYC,KAAZ,CAAmB,gDAClB,wBACA,MAAKC,KAAL,CAAa,CACZC,OAAO,CAAE,EADG,CAEZC,QAAQ,CAAE,KAFE,CAGZC,GAAG,CAAE,EAHO,CAAb,CAKA;AACAN,MAAM,CAAGD,KAAK,CAACQ,WAAN,CAAkBP,MAAlB,EAAT,CARkB,aASlB,C,4DAGD,4BAAoB,iBACnBD,KAAK,CAACS,GAAN,CAAU,oCAAV,CAAgD,CAACC,WAAW,CAAET,MAAM,CAACU,KAArB,CAAhD,EACEC,IADF,CACO,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACA,MAAI,CAACC,QAAL,CAAc,CACbZ,OAAO,CAAEQ,GAAG,CAACG,IADA,CAEbV,QAAQ,CAAE,IAFG,CAAd,EAIA,CAPF,EAQEY,KARF,CAQQ,SAAAC,GAAG,QAAIL,CAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAAJ,EARX,EAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,CAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;oCAEA,+BAAuB,CACtB,GAAIlB,MAAJ,CAAY,CACXA,MAAM,CAACmB,MAAP,GACA,CACD,C,sBAED,iBAAS,CACR,GAAI,CAAC,KAAKhB,KAAL,CAAWE,QAAhB,CAA0B,CACzB,mBAAO,YAAK,EAAE,CAAC,gBAAR,EAAP,CACA,CAFD,IAEO,IAAI,KAAKF,KAAL,CAAWE,QAAX,EAAuB,KAAKF,KAAL,CAAWC,OAAX,CAAmBgB,MAAnB,CAA4B,CAAvD,CAA0D,CAChE,mBACC,YAAK,EAAE,CAAC,gBAAR,uBACC,YAAK,EAAE,CAAC,YAAR,2CADD,EADD,CAOA,CARM,IAQA,CACN,mBACC,KAAC,KAAD,CAAO,QAAP,wBAEC,YAAK,SAAS,CAAC,8BAAf,uBACC,YAAK,EAAE,CAAC,eAAR,UACG,KAAKjB,KAAL,CAAWC,OAAX,CAAmBiB,GAAnB,CAAuB,SAACC,QAAD,CAAWC,KAAX,qBACvB,KAAC,UAAD,EAEC,GAAG,CAAED,QAAQ,CAACE,GAFf,CAGC,WAAW,CAAEF,QAAQ,CAACG,WAHvB,CAIC,MAAM,CAAEH,QAAQ,CAACI,MAAT,CAAgBC,IAJzB,CAKC,GAAG,CAAEL,QAAQ,CAACI,MAAT,CAAgBE,GALtB,CAMC,IAAI,CAAE,IANP,CAOC,MAAM,CAAEN,QAAQ,CAACO,KAPlB,CAQC,GAAG,CAAEP,QAAQ,CAACM,GARf,EACML,KADN,CADuB,EAAvB,CADH,EADD,EAFD,EADD,CAuBA,CACD,C,4BA5F2B9B,KAAK,CAACC,S,EAmGnC,cAAeO,CAAAA,cAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport BrowseCard from '../../components/browseCard';\nimport queryString from 'query-string';\nimport Footer from '../../components/footer';\nimport axios from 'axios';\nlet source;\n\n\nclass accountRecipes extends React.Component {\n\tconstructor(props) {\n\t\tsuper();\n\t\tthis.state = { \n\t\t\trecipes: [],\n\t\t\tisLoaded: false,\n\t\t\tmsg: ''\n\t\t};\n\t\t// this.handleMsg = this.handleMsg.bind(this);\n\t\tsource = axios.CancelToken.source();\n\t}\n\n\n\tcomponentDidMount() {\n\t\taxios.get('/api/recipes/getuserrecipesprivate', {cancelToken: source.token})\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tthis.setState({\n\t\t\t\t\trecipes: res.data,\n\t\t\t\t\tisLoaded: true\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\n\t\t// read url params message, then place message into state so it can be displayed on screen\n\t\t// var url = window.location.href;\n\t\t// var urlParam = 'msg';\n\t\t// urlParam = urlParam.replace(/[\\[\\]]/g, '\\\\$&');\n\t //    var regex = new RegExp('[?&]' + urlParam + '(=([^&#]*)|&|#|$)'), \n\t //    \tresults = regex.exec(url);\n\t //    if (!results || !results[2]) {\n\t //    \treturn null;\n\t //    } else {\n\t //    \tlet m = decodeURIComponent(results[2].replace(/\\+/g, ' '));\n\t //    \tm = m.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n\t //    \tthis.setState({msg: m});\n\t //    }\n\t\t    \n\t}\n\n\n\t// handleMsg(msg){\n\t// \tif (msg && msg.length > 0) {\n\t// \t\tconst timer = setTimeout(() => {\n\t// \t\t\tthis.setState({msg: ''});\n\t// \t\t}, 8000);\n\t// \t\treturn <div className='bannerMsgBar'>{msg}</div>;\n\t// \t}\n\t// }\n\n\tcomponentWillUnmount() {\n\t\tif (source) {\n\t\t\tsource.cancel();\n\t\t}\n\t}\n\n\trender() {\n\t\tif (!this.state.isLoaded) {\n\t\t\treturn <div id='loading-spacer'></div>;\n\t\t} else if (this.state.isLoaded && this.state.recipes.length < 1) {\n\t\t\treturn (\n\t\t\t\t<div id='loading-spacer'>\n\t\t\t\t\t<div id='msg-spacer'>\n\t\t\t\t\t\tYour recipes will appear here\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{/*{ this.handleMsg(this.state.msg) }*/}\n\t\t\t\t\t<div className=\"accountContent minBodyHeight\">\n\t\t\t\t\t\t<div id=\"cardContainer\">\n\t\t\t\t\t\t\t{\tthis.state.recipes.map((cardData, index) => \n\t\t\t\t\t\t\t\t\t<BrowseCard \n\t\t\t\t\t\t\t\t\t\tkey={index} \n\t\t\t\t\t\t\t\t\t\timg={cardData.img} \n\t\t\t\t\t\t\t\t\t\tdescription={cardData.description} \n\t\t\t\t\t\t\t\t\t\tauthor={cardData.authid.name} \n\t\t\t\t\t\t\t\t\t\taId={cardData.authid._id} \n\t\t\t\t\t\t\t\t\t\tedit={true}\n\t\t\t\t\t\t\t\t\t\trtitle={cardData.title}\n\t\t\t\t\t\t\t\t\t\trid={cardData._id}\n\t\t\t\t\t\t\t\t\t\t/>\t\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/*<Footer isLoaded={this.state.isLoaded} />*/}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\t}\n}\n\n\n\n\n\nexport default accountRecipes;\n\n"]},"metadata":{},"sourceType":"module"}