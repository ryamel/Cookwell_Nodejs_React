{"ast":null,"code":"var _jsxFileName = \"/Users/ryan/Documents/cookwell-react-express/client/src/pages/featured.jsx\";\nimport React, { Component } from \"react\";\nimport BrowseCard from '../components/browseCard';\nimport './featured.sass'; // featured titles need to be added inside the browseCard on the first of the line\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Featured extends Component {\n  constructor() {\n    super();\n    this.state = {\n      featCardData: [],\n      latestCardData: [],\n      isFeatLoaded: false,\n      isLatestLoaded: false,\n      error: null\n    };\n  }\n\n  componentDidMount() {\n    // no need to use relative file path for '/api/recipes' with fetch. Fetch will auto find server.js in root dir\n    fetch(\"/api/recipes/get-featured/\").then(res => res.json()).then(data => {\n      this.setState({\n        featCardData: data,\n        isFeatLoaded: true\n      });\n    }, error => {\n      this.setState({\n        isFeatLoaded: true,\n        error: true\n      });\n    });\n    fetch(\"/api/recipes/get-latest/\").then(res => res.json()).then(data => {\n      this.setState({\n        latestCardData: data,\n        isLatestLoaded: true\n      });\n    }, error => {\n      this.setState({\n        isLatestLoaded: true,\n        error: error\n      });\n    });\n  }\n\n  render() {\n    const {\n      error,\n      isFeatLoaded,\n      isLatestLoaded\n    } = this.state;\n\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Error: \", error.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this);\n    } else if (!isFeatLoaded || !isLatestLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this);\n    } else {\n      const {\n        featCardData,\n        latestCardData\n      } = this.state;\n      return (\n        /*#__PURE__*/\n        // index and firstCardHeader propeties are used to conditionally render the featured and latest headers inside the first BrowseCard component. \n        // this is because the headers must be rendered inside the first BrowseCard components in order for the headers to have the same behaviour as the grid cards. Oulined by the css grid attributes.\n        _jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"index-grid\",\n            children: featCardData.map((cardData, index) => /*#__PURE__*/_jsxDEV(BrowseCard, {\n              rid: cardData._id,\n              img: cardData.img,\n              description: cardData.description,\n              author: cardData.authorName,\n              title: cardData.title,\n              index: index,\n              firstCardHeader: \"Featured\"\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 8\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"index-grid\",\n            children: latestCardData.map((cardData, index) => /*#__PURE__*/_jsxDEV(BrowseCard, {\n              rid: cardData._id,\n              img: cardData.img,\n              description: cardData.description,\n              author: cardData.authorName,\n              title: cardData.title,\n              index: index,\n              firstCardHeader: \"Most Recent\"\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 8\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 5\n        }, this)\n      );\n    }\n  }\n\n}\n\nexport default Featured;","map":{"version":3,"sources":["/Users/ryan/Documents/cookwell-react-express/client/src/pages/featured.jsx"],"names":["React","Component","BrowseCard","Featured","constructor","state","featCardData","latestCardData","isFeatLoaded","isLatestLoaded","error","componentDidMount","fetch","then","res","json","data","setState","render","message","map","cardData","index","_id","img","description","authorName","title"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport BrowseCard from '../components/browseCard';\nimport './featured.sass';\n\n\n// featured titles need to be added inside the browseCard on the first of the line\n\nclass Featured extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tfeatCardData: [],\n\t\t\tlatestCardData: [],\n\t\t\tisFeatLoaded: false,\n\t\t\tisLatestLoaded: false,\n\t\t\terror: null\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\n\t\t// no need to use relative file path for '/api/recipes' with fetch. Fetch will auto find server.js in root dir\n\t\tfetch(\"/api/recipes/get-featured/\")\n\t\t\t.then(res => res.json())\n\t\t\t.then(\n\t\t\t\t(data) => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tfeatCardData: data,\n\t\t\t\t\t\tisFeatLoaded: true\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t(error) => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisFeatLoaded: true,\n\t\t\t\t\t\terror: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t)\n\t\t\t\t\n\n\t\tfetch(\"/api/recipes/get-latest/\")\n\t\t\t.then(res => res.json())\n\t\t\t.then(\n\t\t\t\t(data) => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tlatestCardData: data,\n\t\t\t\t\t\tisLatestLoaded: true\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t(error) => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisLatestLoaded: true,\n\t\t\t\t\t\terror: error\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t)\n\t}\n\n\n\n\trender() {\n\t\tconst { error, isFeatLoaded, isLatestLoaded } = this.state;\n\n\t\tif (error) {\n\t\t\treturn <div>Error: {error.message}</div>;\n\t\t} else if ( !isFeatLoaded || !isLatestLoaded ) {\n\t\t\treturn <div>Loading...</div>;\n\t\t} else {\n\n\t\t\tconst { featCardData, latestCardData } = this.state;\n\n\t\t\treturn (\n\t\t\t\t// index and firstCardHeader propeties are used to conditionally render the featured and latest headers inside the first BrowseCard component. \n\t\t\t\t// this is because the headers must be rendered inside the first BrowseCard components in order for the headers to have the same behaviour as the grid cards. Oulined by the css grid attributes.\n\t\t\t\t<React.Fragment>\n\n\t\t\t\t\t<div className='index-grid'>\n\t\t\t\t\t\t{featCardData.map((cardData, index) => \n\t\t\t\t\t\t\t<BrowseCard key={index} rid={cardData._id} img={cardData.img} description={cardData.description} author={cardData.authorName} title={cardData.title} index={index} firstCardHeader='Featured' />\t\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\n\t\t\t\t\t<div className='index-grid'>\n\t\t\t\t\t\t{latestCardData.map((cardData, index) => \n\t\t\t\t\t\t\t<BrowseCard key={index} rid={cardData._id} img={cardData.img} description={cardData.description} author={cardData.authorName} title={cardData.title} index={index} firstCardHeader='Most Recent' />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\t}\n}\n\n\n\n\n\n\nexport default Featured;"]},"metadata":{},"sourceType":"module"}