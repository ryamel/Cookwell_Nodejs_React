{"ast":null,"code":"import _classCallCheck from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ryan/Documents/cookwell-react-express/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import'./recipe-page.sass';import axios from'axios';import CookBanner from'../components/cookBanner';import Notes from'../components/notes-recipe-page';import Authcard from'../components/authcard';import Dietbanner from'../components/dietBanner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var source;var Recipepage=/*#__PURE__*/function(_Component){_inherits(Recipepage,_Component);var _super=_createSuper(Recipepage);function Recipepage(){var _this;_classCallCheck(this,Recipepage);_this=_super.call(this);_this.state={isLoaded:false,result:null,rtitle:''};source=axios.CancelToken.source();_this.getParameterByName=_this.getParameterByName.bind(_assertThisInitialized(_this));_this.loadRecipe=_this.loadRecipe.bind(_assertThisInitialized(_this));return _this;}_createClass(Recipepage,[{key:\"getParameterByName\",value:function getParameterByName(name){var url=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.location.href;name=name.replace(/[\\[\\]]/g,'\\\\$&');var regex=new RegExp('[?&]'+name+'(=([^&#]*)|&|#|$)'),results=regex.exec(url);if(!results)return null;if(!results[2])return'';return decodeURIComponent(results[2].replace(/\\+/g,' '));}},{key:\"loadRecipe\",value:function loadRecipe(rtitle){var _this2=this;axios.get('/api/recipes/getbytitle/'+rtitle,{cancelToken:source.token}).then(function(res){_this2.setState({result:res.data,isLoaded:true,rtitle:rtitle});}).catch(function(error){_this2.setState({isLoaded:false});console.log(error);});}},{key:\"componentDidMount\",value:function componentDidMount(){var titleURL=this.getParameterByName('rtitle');this.loadRecipe(titleURL);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(source)source.cancel();}},{key:\"render\",value:function render(){var titleURL=this.getParameterByName('rtitle');if(this.state.isLoaded&&this.state.rtitle!==titleURL)this.loadRecipe(titleURL);if(!this.state.isLoaded){return null;}else{return/*#__PURE__*/_jsxs(\"div\",{id:\"recipe-page-container\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"recipe-content-banner\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"rec-container-1\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"recipe-img-container\",children:/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+'/user_recipes_img/display/'+this.state.result.img})}),/*#__PURE__*/_jsx(\"div\",{id:\"rec-container-1-title\",children:this.state.result.title}),/*#__PURE__*/_jsx(\"div\",{id:\"about-container\",children:this.state.result.description}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-name\",id:\"recipePage-sym-container\",children:\"display det symb\"}),/*#__PURE__*/_jsx(\"div\",{id:\"stat-container\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"float-container\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"stat-name-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-name\",children:\"Time \"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-name\",children:\"Serves \"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"stat-number-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-name\",children:this.state.result.cookTime+' min'}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-name\",children:this.state.result.servings})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"rec-container-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rec-container-headings\",children:\"INGREDIENTS\"}),/*#__PURE__*/_jsx(\"ul\",{children:this.state.result.ingredients.map(function(ingr,index){return/*#__PURE__*/_jsxs(\"li\",{children:[\" \",fracToHtmlEntity(ingr.qty)+' '+ingr.gtext,\" \"]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"rec-container-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rec-container-headings\",children:\"METHOD\"}),/*#__PURE__*/_jsx(\"ol\",{children:this.state.result.method.map(function(method,index){return/*#__PURE__*/_jsxs(\"li\",{children:[\" \",method,\" \"]},index);})})]}),/*#__PURE__*/_jsx(Notes,{notes:this.state.result.notes})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"right-banner\",children:[/*#__PURE__*/_jsx(Authcard,{authid:this.state.result.authid._id,profileImg:this.state.result.authid.profileImg,name:this.state.result.authid.name}),/*#__PURE__*/_jsx(Dietbanner,{diet:this.state.result.diet})]}),this.state.isLoaded&&/*#__PURE__*/_jsx(CookBanner,{currentRecipe:this.state.rtitle})]});}}}]);return Recipepage;}(Component);function fracToHtmlEntity(string){// identify fraction in string\nvar index=string.indexOf('/');// indexOf retuns -1 if character not found\nvar num1=parseInt(string[index-1]);// parseInt returns NaN if input is not string\nvar num2=parseInt(string[index+1]);// error check\nif(num1===NaN||num2===NaN||index===-1){return string;}// seperate string components\nvar firstHalf=string.substring(0,index-1).replace(' ','');var secondHalf=string.substring(index+2);// determine unicode value\nif(num1===1&&num2===4){var unicode=188;}else if(num1===1&&num2===2){var unicode=189;}else if(num1===3&&num2===4){var unicode=190;}else if(num1===1&&num2===7){var unicode=8528;}else if(num1===1&&num2===9){var unicode=8529;}else if(num1===1&&num2===10){var unicode=8530;}else if(num1===1&&num2===3){var unicode=8531;}else if(num1===2&&num2===3){var unicode=8532;}else if(num1===1&&num2===5){var unicode=8533;}else if(num1===2&&num2===5){var unicode=8534;}else if(num1===3&&num2===5){var unicode=8535;}else if(num1===4&&num2===5){var unicode=8536;}else if(num1===1&&num2===6){var unicode=8537;}else if(num1===5&&num2===6){var unicode=8538;}else if(num1===1&&num2===8){var unicode=8539;}else if(num1===3&&num2===8){var unicode=8540;}else if(num1===5&&num2===8){var unicode=8541;}else if(num1===7&&num2===8){var unicode=8542;}else{return string;}return firstHalf+String.fromCharCode(unicode)+secondHalf;}export default Recipepage;","map":{"version":3,"sources":["/Users/ryan/Documents/cookwell-react-express/client/src/pages/recipe-page.jsx"],"names":["React","Component","Link","axios","CookBanner","Notes","Authcard","Dietbanner","source","Recipepage","state","isLoaded","result","rtitle","CancelToken","getParameterByName","bind","loadRecipe","name","url","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","get","cancelToken","token","then","res","setState","data","catch","error","console","log","titleURL","cancel","process","env","PUBLIC_URL","img","title","description","cookTime","servings","ingredients","map","ingr","index","fracToHtmlEntity","qty","gtext","method","notes","authid","_id","profileImg","diet","string","indexOf","num1","parseInt","num2","NaN","firstHalf","substring","secondHalf","unicode","String","fromCharCode"],"mappings":"k1BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,oBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,iCAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,C,wFACA,GAAIC,CAAAA,MAAJ,C,GAEMC,CAAAA,U,wGACL,qBAAc,4CACb,wBACA,MAAKC,KAAL,CAAa,CACZC,QAAQ,CAAE,KADE,CAEZC,MAAM,CAAE,IAFI,CAGZC,MAAM,CAAE,EAHI,CAAb,CAKAL,MAAM,CAAGL,KAAK,CAACW,WAAN,CAAkBN,MAAlB,EAAT,CACA,MAAKO,kBAAL,CAA0B,MAAKA,kBAAL,CAAwBC,IAAxB,+BAA1B,CACA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBD,IAAhB,+BAAlB,CATa,aAUb,C,yDAGD,4BAAmBE,IAAnB,CAAqD,IAA5BC,CAAAA,GAA4B,2DAAtBC,MAAM,CAACC,QAAP,CAAgBC,IAAM,CACjDJ,IAAI,CAAGA,IAAI,CAACK,OAAL,CAAa,SAAb,CAAwB,MAAxB,CAAP,CACA,GAAIC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,MAAJ,CAAW,OAASP,IAAT,CAAgB,mBAA3B,CAAZ,CACIQ,OAAO,CAAGF,KAAK,CAACG,IAAN,CAAWR,GAAX,CADd,CAEA,GAAI,CAACO,OAAL,CAAc,MAAO,KAAP,CACd,GAAI,CAACA,OAAO,CAAC,CAAD,CAAZ,CAAiB,MAAO,EAAP,CACjB,MAAOE,CAAAA,kBAAkB,CAACF,OAAO,CAAC,CAAD,CAAP,CAAWH,OAAX,CAAmB,KAAnB,CAA0B,GAA1B,CAAD,CAAzB,CACH,C,0BAGD,oBAAWV,MAAX,CAAmB,iBAClBV,KAAK,CAAC0B,GAAN,CAAU,2BAA6BhB,MAAvC,CAA+C,CAACiB,WAAW,CAAEtB,MAAM,CAACuB,KAArB,CAA/C,EACEC,IADF,CACO,SAAAC,GAAG,CAAI,CACZ,MAAI,CAACC,QAAL,CAAc,CACbtB,MAAM,CAAEqB,GAAG,CAACE,IADC,CAEbxB,QAAQ,CAAE,IAFG,CAGbE,MAAM,CAAEA,MAHK,CAAd,EAKA,CAPF,EAQEuB,KARF,CAQQ,SAAAC,KAAK,CAAI,CACf,MAAI,CAACH,QAAL,CAAc,CACbvB,QAAQ,CAAE,KADG,CAAd,EAGA2B,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA,CAbF,EAcA,C,iCAED,4BAAoB,CACnB,GAAIG,CAAAA,QAAQ,CAAG,KAAKzB,kBAAL,CAAwB,QAAxB,CAAf,CACA,KAAKE,UAAL,CAAgBuB,QAAhB,EACA,C,oCAED,+BAAuB,CACtB,GAAIhC,MAAJ,CAAYA,MAAM,CAACiC,MAAP,GACZ,C,sBAGD,iBAAS,CACR,GAAID,CAAAA,QAAQ,CAAG,KAAKzB,kBAAL,CAAwB,QAAxB,CAAf,CACA,GAAI,KAAKL,KAAL,CAAWC,QAAX,EAAuB,KAAKD,KAAL,CAAWG,MAAX,GAAsB2B,QAAjD,CAA2D,KAAKvB,UAAL,CAAgBuB,QAAhB,EAG3D,GAAI,CAAC,KAAK9B,KAAL,CAAWC,QAAhB,CAA2B,CAC1B,MAAO,KAAP,CACA,CAFD,IAEO,CACN,mBACC,aAAK,EAAE,CAAC,uBAAR,wBACC,aAAK,EAAE,CAAC,uBAAR,wBAEC,aAAK,EAAE,CAAC,iBAAR,wBAEC,YAAK,EAAE,CAAC,sBAAR,uBACC,YAAK,GAAG,CAAE+B,OAAO,CAACC,GAAR,CAAYC,UAAZ,CAAyB,4BAAzB,CAAwD,KAAKlC,KAAL,CAAWE,MAAX,CAAkBiC,GAApF,EADD,EAFD,cAMC,YAAK,EAAE,CAAC,uBAAR,UAAiC,KAAKnC,KAAL,CAAWE,MAAX,CAAkBkC,KAAnD,EAND,cAOC,YAAK,EAAE,CAAC,iBAAR,UAA2B,KAAKpC,KAAL,CAAWE,MAAX,CAAkBmC,WAA7C,EAPD,cAQC,YAAK,SAAS,CAAC,WAAf,CAA2B,EAAE,CAAC,0BAA9B,8BARD,cAUC,YAAK,EAAE,CAAC,gBAAR,uBACC,aAAK,EAAE,CAAC,iBAAR,wBAEC,aAAK,EAAE,CAAC,qBAAR,wBACC,YAAK,SAAS,CAAC,WAAf,mBADD,cAEC,YAAK,SAAS,CAAC,WAAf,qBAFD,GAFD,cAOC,aAAK,EAAE,CAAC,uBAAR,wBACC,YAAK,SAAS,CAAC,WAAf,UAA4B,KAAKrC,KAAL,CAAWE,MAAX,CAAkBoC,QAAlB,CAA6B,MAAzD,EADD,cAEC,YAAK,SAAS,CAAC,WAAf,UAA4B,KAAKtC,KAAL,CAAWE,MAAX,CAAkBqC,QAA9C,EAFD,GAPD,GADD,EAVD,GAFD,cA8BC,aAAK,EAAE,CAAC,iBAAR,wBACC,YAAK,SAAS,CAAC,wBAAf,yBADD,cAIC,oBACE,KAAKvC,KAAL,CAAWE,MAAX,CAAkBsC,WAAlB,CAA8BC,GAA9B,CAAkC,SAACC,IAAD,CAAOC,KAAP,qBAClC,0BAAkBC,gBAAgB,CAACF,IAAI,CAACG,GAAN,CAAhB,CAA6B,GAA7B,CAAmCH,IAAI,CAACI,KAA1D,OAASH,KAAT,CADkC,EAAlC,CADF,EAJD,GA9BD,cA0CC,aAAK,EAAE,CAAC,iBAAR,wBACC,YAAK,SAAS,CAAC,wBAAf,oBADD,cAIC,oBACE,KAAK3C,KAAL,CAAWE,MAAX,CAAkB6C,MAAlB,CAAyBN,GAAzB,CAA6B,SAACM,MAAD,CAASJ,KAAT,qBAC7B,0BAAkBI,MAAlB,OAASJ,KAAT,CAD6B,EAA7B,CADF,EAJD,GA1CD,cAsDC,KAAC,KAAD,EAAO,KAAK,CAAE,KAAK3C,KAAL,CAAWE,MAAX,CAAkB8C,KAAhC,EAtDD,GADD,cA4DC,aAAK,EAAE,CAAC,cAAR,wBACC,KAAC,QAAD,EACC,MAAM,CAAE,KAAKhD,KAAL,CAAWE,MAAX,CAAkB+C,MAAlB,CAAyBC,GADlC,CAEC,UAAU,CAAE,KAAKlD,KAAL,CAAWE,MAAX,CAAkB+C,MAAlB,CAAyBE,UAFtC,CAGC,IAAI,CAAE,KAAKnD,KAAL,CAAWE,MAAX,CAAkB+C,MAAlB,CAAyBzC,IAHhC,EADD,cAOC,KAAC,UAAD,EAAY,IAAI,CAAE,KAAKR,KAAL,CAAWE,MAAX,CAAkBkD,IAApC,EAPD,GA5DD,CAsFG,KAAKpD,KAAL,CAAWC,QAAX,eACD,KAAC,UAAD,EAAY,aAAa,CAAE,KAAKD,KAAL,CAAWG,MAAtC,EAvFF,GADD,CA+GA,CACD,C,wBA3KuBZ,S,EAqLzB,QAASqD,CAAAA,gBAAT,CAA0BS,MAA1B,CAAkC,CAEjC;AACA,GAAMV,CAAAA,KAAK,CAAGU,MAAM,CAACC,OAAP,CAAe,GAAf,CAAd,CAAmC;AACnC,GAAMC,CAAAA,IAAI,CAAGC,QAAQ,CAACH,MAAM,CAACV,KAAK,CAAC,CAAP,CAAP,CAArB,CAAwC;AACxC,GAAMc,CAAAA,IAAI,CAAGD,QAAQ,CAACH,MAAM,CAACV,KAAK,CAAC,CAAP,CAAP,CAArB,CAEA;AACA,GAAIY,IAAI,GAAKG,GAAT,EAAgBD,IAAI,GAAKC,GAAzB,EAAgCf,KAAK,GAAK,CAAC,CAA/C,CAAkD,CACjD,MAAOU,CAAAA,MAAP,CACA,CAED;AACA,GAAMM,CAAAA,SAAS,CAAGN,MAAM,CAACO,SAAP,CAAiB,CAAjB,CAAoBjB,KAAK,CAAC,CAA1B,EAA6B9B,OAA7B,CAAqC,GAArC,CAA0C,EAA1C,CAAlB,CACA,GAAMgD,CAAAA,UAAU,CAAGR,MAAM,CAACO,SAAP,CAAiBjB,KAAK,CAAC,CAAvB,CAAnB,CAEA;AACA,GAAIY,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CAC7B,GAAIK,CAAAA,OAAO,CAAG,GAAd,CACA,CAFD,IAEO,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,GAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,GAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,EAA3B,CAA+B,CACrC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,IAAIP,IAAI,GAAK,CAAT,EAAcE,IAAI,GAAK,CAA3B,CAA8B,CACpC,GAAIK,CAAAA,OAAO,CAAG,IAAd,CACA,CAFM,IAEA,CACN,MAAOT,CAAAA,MAAP,CACA,CAED,MAAOM,CAAAA,SAAS,CAAGI,MAAM,CAACC,YAAP,CAAoBF,OAApB,CAAZ,CAA2CD,UAAlD,CACA,CAKD,cAAe9D,CAAAA,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './recipe-page.sass';\nimport axios from 'axios';\nimport CookBanner from '../components/cookBanner';\nimport Notes from '../components/notes-recipe-page';\nimport Authcard from '../components/authcard';\nimport Dietbanner from '../components/dietBanner';\nlet source;\n\nclass Recipepage extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tisLoaded: false,\n\t\t\tresult: null,\n\t\t\trtitle: ''\n\t\t}\t\n\t\tsource = axios.CancelToken.source();\n\t\tthis.getParameterByName = this.getParameterByName.bind(this);\n\t\tthis.loadRecipe = this.loadRecipe.bind(this);\n\t}\n\n\n\tgetParameterByName(name, url = window.location.href) {\n\t    name = name.replace(/[\\[\\]]/g, '\\\\$&');\n\t    var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n\t        results = regex.exec(url);\n\t    if (!results) return null;\n\t    if (!results[2]) return '';\n\t    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n\t}\n\t\n\n\tloadRecipe(rtitle) {\n\t\taxios.get('/api/recipes/getbytitle/' + rtitle, {cancelToken: source.token})\n\t\t\t.then(res => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tresult: res.data,\n\t\t\t\t\tisLoaded: true,\n\t\t\t\t\trtitle: rtitle\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisLoaded: false\n\t\t\t\t});\n\t\t\t\tconsole.log(error);\n\t\t\t})\t\n\t}\n\n\tcomponentDidMount() {\n\t\tlet titleURL = this.getParameterByName('rtitle');\n\t\tthis.loadRecipe(titleURL);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (source) source.cancel();\n\t}\n\n\n\trender() {\n\t\tlet titleURL = this.getParameterByName('rtitle');\n\t\tif (this.state.isLoaded && this.state.rtitle !== titleURL) this.loadRecipe(titleURL);\n\t\t\n\n\t\tif (!this.state.isLoaded)  {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn(\n\t\t\t\t<div id=\"recipe-page-container\">\n\t\t\t\t\t<div id=\"recipe-content-banner\">\n\n\t\t\t\t\t\t<div id=\"rec-container-1\">\n\n\t\t\t\t\t\t\t<div id='recipe-img-container'>\n\t\t\t\t\t\t\t\t<img src={process.env.PUBLIC_URL + '/user_recipes_img/display/' + this.state.result.img} />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div id=\"rec-container-1-title\">{this.state.result.title}</div>\n\t\t\t\t\t\t\t<div id='about-container'>{this.state.result.description}</div>\n\t\t\t\t\t\t\t<div className='stat-name' id=\"recipePage-sym-container\">display det symb</div>\n\n\t\t\t\t\t\t\t<div id='stat-container'>\n\t\t\t\t\t\t\t\t<div id=\"float-container\">\n\n\t\t\t\t\t\t\t\t\t<div id='stat-name-container'>\n\t\t\t\t\t\t\t\t\t\t<div className='stat-name'>Time </div>\n\t\t\t\t\t\t\t\t\t\t<div className='stat-name'>Serves </div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div id=\"stat-number-container\">\n\t\t\t\t\t\t\t\t\t\t<div className='stat-name'>{this.state.result.cookTime + ' min'}</div>\n\t\t\t\t\t\t\t\t\t\t<div className='stat-name'>{this.state.result.servings}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div id=\"rec-container-2\">\n\t\t\t\t\t\t\t<div className='rec-container-headings'>\n\t\t\t\t\t\t\t\tINGREDIENTS \n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t{this.state.result.ingredients.map((ingr, index) => (\n\t\t\t\t\t\t\t\t\t<li key={index}> {fracToHtmlEntity(ingr.qty) + ' ' + ingr.gtext} </li>\n\t\t\t\t\t\t\t\t))}\t\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t<div id=\"rec-container-3\">\n\t\t\t\t\t\t\t<div className='rec-container-headings'>\n\t\t\t\t\t\t\t\tMETHOD\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t{this.state.result.method.map((method, index) => (\n\t\t\t\t\t\t\t\t\t<li key={index}> {method} </li>\n\t\t\t\t\t\t\t\t))}\t\n\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t<Notes notes={this.state.result.notes} />\n\n\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div id=\"right-banner\">\n\t\t\t\t\t\t<Authcard \n\t\t\t\t\t\t\tauthid={this.state.result.authid._id} \n\t\t\t\t\t\t\tprofileImg={this.state.result.authid.profileImg}\n\t\t\t\t\t\t\tname={this.state.result.authid.name}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Dietbanner diet={this.state.result.diet} />\n\n\t\t\t\t\t{/*\t{\tthis.displayDietBanner(this.state.result.diet)\t}*/}\n\n\t{/*\t\t\t\t\t<div id=\"share-this-container\">\n\n\t\t\t\t\t\t\t<div id=\"title\">Share this recipe</div>\n\n\t\t\t\t\t\t\t<div id=\"ad-flexbox-container\">\n\t\t\t\t\t\t\t\t<div><a href=\"#\" className=\"fa fa-facebook\"></a></div>\n\t\t\t\t\t\t\t\t<div><a href=\"#\" className=\"fa fa-twitter\"></a></div>\n\t\t\t\t\t\t\t\t<div><a href=\"#\" className=\"fa fa-pinterest\"></a></div>\n\t\t\t\t\t\t\t\t<div><a href=\"#\" className=\"fa fa-envelope\"></a></div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</div>*/}\n\t\t\t\t\t</div>\n\n\n\t\t\t\t\t{\tthis.state.isLoaded && \n\t\t\t\t\t\t<CookBanner currentRecipe={this.state.rtitle} />\n\t\t\t\t\t}\n\n{/*\t\t\t\t\t<div id='rec-container-5'>\n\n\t\t\t\t\t\t<div className='rec-container-headings-5'>\n\t\t\t\t\t\t\tRECOMENDED\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className='more-banner-card more-recomended'>\n\t\t\t\t\t\t\t\t<Link to='/'>\n\t\t\t\t\t\t\t\t\t<img src='Media/user_recipe_images/' />\n\t\t\t\t\t\t\t\t\t<div className='overlay'>\n\t\t\t\t\t\t\t\t\t\t<div className='overlay-title'></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div> */}\n\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\n\n\n\n\n\n\n\nfunction fracToHtmlEntity(string) {\n\n\t// identify fraction in string\n\tconst index = string.indexOf('/'); // indexOf retuns -1 if character not found\n\tconst num1 = parseInt(string[index-1]); // parseInt returns NaN if input is not string\n\tconst num2 = parseInt(string[index+1]);\n\n\t// error check\n\tif (num1 === NaN || num2 === NaN || index === -1) {\n\t\treturn string;\n\t}\n\n\t// seperate string components\n\tconst firstHalf = string.substring(0, index-1).replace(' ', '');\n\tconst secondHalf = string.substring(index+2);\n\n\t// determine unicode value\n\tif (num1 === 1 && num2 === 4) {\n\t\tvar unicode = 188;\n\t} else if (num1 === 1 && num2 === 2) {\n\t\tvar unicode = 189;\n\t} else if (num1 === 3 && num2 === 4) {\n\t\tvar unicode = 190;\n\t} else if (num1 === 1 && num2 === 7) {\n\t\tvar unicode = 8528;\n\t} else if (num1 === 1 && num2 === 9) {\n\t\tvar unicode = 8529;\n\t} else if (num1 === 1 && num2 === 10) {\n\t\tvar unicode = 8530;\n\t} else if (num1 === 1 && num2 === 3) {\n\t\tvar unicode = 8531;\n\t} else if (num1 === 2 && num2 === 3) {\n\t\tvar unicode = 8532;\n\t} else if (num1 === 1 && num2 === 5) {\n\t\tvar unicode = 8533;\n\t} else if (num1 === 2 && num2 === 5) {\n\t\tvar unicode = 8534;\n\t} else if (num1 === 3 && num2 === 5) {\n\t\tvar unicode = 8535;\n\t} else if (num1 === 4 && num2 === 5) {\n\t\tvar unicode = 8536;\n\t} else if (num1 === 1 && num2 === 6) {\n\t\tvar unicode = 8537;\n\t} else if (num1 === 5 && num2 === 6) {\n\t\tvar unicode = 8538;\n\t} else if (num1 === 1 && num2 === 8) {\n\t\tvar unicode = 8539;\n\t} else if (num1 === 3 && num2 === 8) {\n\t\tvar unicode = 8540;\n\t} else if (num1 === 5 && num2 === 8) {\n\t\tvar unicode = 8541;\n\t} else if (num1 === 7 && num2 === 8) {\n\t\tvar unicode = 8542; \n\t} else {\n\t\treturn string;\n\t}\n\n\treturn firstHalf + String.fromCharCode(unicode) + secondHalf;\n}\n\n\n\n\nexport default Recipepage;\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}