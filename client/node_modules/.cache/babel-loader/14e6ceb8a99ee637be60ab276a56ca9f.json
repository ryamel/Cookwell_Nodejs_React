{"ast":null,"code":"var _jsxFileName = \"/Users/ryan/Documents/cookwell-react-express/client/src/pages/signup-page.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport './signup-page.sass';\nimport PropTypes from \"prop-types\";\nimport { withRouter } from \"react-router\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet source;\n\nclass Signuppage extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      email: '',\n      pwd: '',\n      pwdRepeat: '',\n      errMsg: ''\n    };\n    source = axios.CancelToken.source();\n    this.registerUser = this.registerUser.bind(this);\n    this.handleInput = this.handleInput.bind(this);\n    this.handleError = this.handleError.bind(this);\n  }\n\n  registerUser() {\n    const body = {\n      email: this.state.email,\n      pwd: this.state.pwd,\n      pwdRepeat: this.state.pwdRepeat\n    };\n    axios.post('/api/users/register', body, {\n      cancelToken: source.token\n    }).then(res => {\n      localStorage['logged_in'] = true;\n      this.props.login();\n      this.props.history.push('/my-account'); // redirect using withRouter and prototypes import\n    }).catch(error => {\n      if (typeof error.response.data !== 'undefined') this.setState({\n        errMsg: error.response.data\n      });\n    });\n  }\n\n  handleInput(e) {\n    let name = e.target.name;\n    this.setState({\n      [name]: e.target.value\n    });\n  }\n\n  handleError(msg) {\n    if (msg.length > 0) {\n      const timer = setTimeout(() => {\n        this.setState({\n          error: ''\n        });\n      }, 5500);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logMsg\",\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this); // output msg\n    }\n  }\n\n  componentWillUnmount() {\n    if (source) source.cancel();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signupForm-container\",\n      children: [this.handleError(this.state.errMsg), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        placeholder: \"Email\",\n        value: this.state.email,\n        onChange: this.handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"Password\",\n        name: \"pwd\",\n        placeholder: \"Password\",\n        value: this.state.pwd,\n        onChange: this.handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"Password\",\n        name: \"pwdRepeat\",\n        placeholder: \"Repeat Password\",\n        value: this.state.repeatPwd,\n        onChange: this.handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.registerUser,\n        type: \"submit\",\n        name: \"submit\",\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"linkCon\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          id: \"forgotpwd\",\n          to: \"/forgot-password\",\n          children: \"Forgot Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"accountLogin\",\n        children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"./login-page\",\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"policyMsg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"border\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 6\n        }, this), \"By signing up, you agree to our \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/privacy-policy\",\n          children: \"Terms of Service\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 38\n        }, this), \", \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/privacy-policy\",\n          children: \"Privacy Policy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 90\n        }, this), \", and \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/privacy-policy\",\n          children: \"Cookies Policy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 144\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst SignuppageWithRouter = withRouter(Signuppage);\n_c = SignuppageWithRouter;\nexport default SignuppageWithRouter;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignuppageWithRouter\");","map":{"version":3,"sources":["/Users/ryan/Documents/cookwell-react-express/client/src/pages/signup-page.jsx"],"names":["React","Component","Link","PropTypes","withRouter","axios","source","Signuppage","constructor","props","state","email","pwd","pwdRepeat","errMsg","CancelToken","registerUser","bind","handleInput","handleError","body","post","cancelToken","token","then","res","localStorage","login","history","push","catch","error","response","data","setState","e","name","target","value","msg","length","timer","setTimeout","componentWillUnmount","cancel","render","repeatPwd","SignuppageWithRouter"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport './signup-page.sass';\nimport PropTypes from \"prop-types\";\nimport { withRouter } from \"react-router\";\nimport axios from 'axios';\nlet source;\n\nclass Signuppage extends React.Component {\n\tconstructor(props) {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpwd: '',\n\t\t\tpwdRepeat: '',\n\t\t\terrMsg: ''\n\t\t}\n\t\tsource = axios.CancelToken.source();\n\t\tthis.registerUser = this.registerUser.bind(this);\n\t\tthis.handleInput = this.handleInput.bind(this);\n\t\tthis.handleError = this.handleError.bind(this);\n\t}\n\n\tregisterUser() {\n\t    const body = {\n\t    \temail: this.state.email,\n\t        pwd: this.state.pwd,\n\t        pwdRepeat: this.state.pwdRepeat\n\t    }\n\n\t\taxios.post('/api/users/register', body, {cancelToken: source.token})\n\t\t\t.then(res => {\n\t\t\t\tlocalStorage['logged_in'] = true;\n\t\t\t\tthis.props.login();\n\t\t\t\tthis.props.history.push('/my-account'); // redirect using withRouter and prototypes import\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (typeof error.response.data !== 'undefined') this.setState({errMsg: error.response.data});\n\t\t\t})\n\t}\n\n\thandleInput(e) {\n\t\tlet name = e.target.name;\n\t\tthis.setState({\n\t\t\t[name]: e.target.value\n\t\t})\n\t}\n\n\thandleError(msg){\n\t\tif (msg.length > 0) {\n\t\t\tconst timer = setTimeout(() => {\n\t\t\t\tthis.setState({\terror: '' });\n\t\t\t}, 5500);\n\t\t\treturn <div className='logMsg'>{msg}</div>; // output msg\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (source) source.cancel();\n\t}\n\n\trender () {\n\t\treturn (\n\t\t\t<div className=\"signupForm-container\">\n\t\t\t\t{ this.handleError(this.state.errMsg)}\n\t\t\t\t<input \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tname=\"email\" \n\t\t\t\t\tplaceholder=\"Email\" \n\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\tonChange={this.handleInput}\n\t\t\t\t/>\n\t\t\t\t<input \n\t\t\t\t\ttype=\"Password\" \n\t\t\t\t\tname=\"pwd\" \n\t\t\t\t\tplaceholder=\"Password\" \n\t\t\t\t\tvalue={this.state.pwd}\n\t\t\t\t\tonChange={this.handleInput}\n\t\t\t\t/>\n\t\t\t\t<input \n\t\t\t\t\ttype=\"Password\" \n\t\t\t\t\tname=\"pwdRepeat\" \n\t\t\t\t\tplaceholder=\"Repeat Password\" \n\t\t\t\t\tvalue={this.state.repeatPwd}\n\t\t\t\t\tonChange={this.handleInput}\n\t\t\t\t/>\n\t\t\t\t<button \n\t\t\t\t\tonClick={this.registerUser} \n\t\t\t\t\ttype=\"submit\" \n\t\t\t\t\tname=\"submit\">\n\t\t\t\t\tSign up\n\t\t\t\t</button>\n\t\t\t\t<div id=\"linkCon\">\n\t\t\t\t\t<Link id=\"forgotpwd\" to=\"/forgot-password\">Forgot Password</Link>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"accountLogin\">\n\t\t\t\t\tAlready have an account? <Link to=\"./login-page\">Log in</Link>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"policyMsg\">\n\t\t\t\t\t<div id=\"border\"></div>\n\t\t\t\t\tBy signing up, you agree to our <Link to='/privacy-policy'>Terms of Service</Link>, <Link to='/privacy-policy'>Privacy Policy</Link>, and <Link to='/privacy-policy'>Cookies Policy</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst SignuppageWithRouter = withRouter(Signuppage);\n\nexport default SignuppageWithRouter;"]},"metadata":{},"sourceType":"module"}