{"ast":null,"code":"var _jsxFileName = \"/Users/ryan/Documents/cookwell-react-express/client/src/pages/account-pages/account-recipes.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport BrowseCard from '../../components/browseCard';\nimport queryString from 'query-string';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass accountRecipes extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      recipes: [],\n      isLoaded: false,\n      msg: ''\n    };\n    this.handleMsg = this.handleMsg.bind(this);\n  }\n\n  componentDidMount() {\n    // get recipe data\n    fetch('/api/recipes/get-user-recipes').then(res => res.json()).then(data => {\n      this.setState({\n        recipes: data,\n        isLoaded: true\n      }, console.log(data));\n    }).catch(err => console.log(err)); // read url params message, then place message into state so it can be displayed on screen\n\n    var url = window.location.href;\n    var urlParam = 'msg';\n    urlParam = urlParam.replace(/[\\[\\]]/g, '\\\\$&');\n    var regex = new RegExp('[?&]' + urlParam + '(=([^&#]*)|&|#|$)'),\n        results = regex.exec(url);\n\n    if (!results || !results[2]) {\n      return null;\n    } else {\n      let m = decodeURIComponent(results[2].replace(/\\+/g, ' '));\n      m = m.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n      this.setState({\n        msg: m\n      });\n    }\n  }\n\n  handleMsg(msg) {\n    if (msg && msg.length > 0) {\n      const timer = setTimeout(() => {\n        this.setState({\n          msg: ''\n        });\n      }, 8000);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bannerMsgBar\",\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this);\n    }\n  }\n\n  render() {\n    if (!this.state.isLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"loading-spacer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this);\n    } else if (this.state.recipes.length == 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"msg-spacer\",\n        children: \"Your recipes will appear here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [this.handleMsg(this.state.msg), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"accountContent\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"cardContainer\",\n            children: this.state.recipes.map((cardData, index) => /*#__PURE__*/_jsxDEV(BrowseCard, {\n              rid: cardData._id,\n              img: cardData.img,\n              description: cardData.description,\n              author: cardData.authorName,\n              edit: true,\n              title: cardData.title\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 10\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }, this);\n    }\n  }\n\n}\n\nexport default accountRecipes;","map":{"version":3,"sources":["/Users/ryan/Documents/cookwell-react-express/client/src/pages/account-pages/account-recipes.jsx"],"names":["React","Component","Link","BrowseCard","queryString","accountRecipes","constructor","props","state","recipes","isLoaded","msg","handleMsg","bind","componentDidMount","fetch","then","res","json","data","setState","console","log","catch","err","url","window","location","href","urlParam","replace","regex","RegExp","results","exec","m","decodeURIComponent","l","toUpperCase","length","timer","setTimeout","render","map","cardData","index","_id","img","description","authorName","title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport BrowseCard from '../../components/browseCard';\nimport queryString from 'query-string';\n\n\nclass accountRecipes extends React.Component {\n\tconstructor(props) {\n\t\tsuper();\n\t\tthis.state = { \n\t\t\trecipes: [],\n\t\t\tisLoaded: false,\n\t\t\tmsg: ''\n\t\t};\n\n\t\tthis.handleMsg = this.handleMsg.bind(this);\n\t}\n\n\n\tcomponentDidMount() {\n\t\t// get recipe data\n\t\tfetch('/api/recipes/get-user-recipes')\n\t\t\t.then(res => res.json())\n\t\t\t.then((data) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\trecipes: data,\n\t\t\t\t\tisLoaded: true\n\t\t\t\t}, console.log(data));\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\n\n\t\t// read url params message, then place message into state so it can be displayed on screen\n\t\tvar url = window.location.href;\n\t\tvar urlParam = 'msg';\n\t\turlParam = urlParam.replace(/[\\[\\]]/g, '\\\\$&');\n\t    var regex = new RegExp('[?&]' + urlParam + '(=([^&#]*)|&|#|$)'), \n\t    \tresults = regex.exec(url);\n\t    if (!results || !results[2]) {\n\t    \treturn null;\n\t    } else {\n\t    \tlet m = decodeURIComponent(results[2].replace(/\\+/g, ' '));\n\t    \tm = m.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n\t    \tthis.setState({msg: m});\n\t    }\n\t\t    \n\t}\n\n\n\thandleMsg(msg){\n\t\tif (msg && msg.length > 0) {\n\t\t\tconst timer = setTimeout(() => {\n\t\t\t\tthis.setState({msg: ''});\n\t\t\t}, 8000);\n\t\t\treturn <div className='bannerMsgBar'>{msg}</div>;\n\t\t}\n\t}\n\n\trender() {\n\t\tif (!this.state.isLoaded) {\n\t\t\treturn <div id='loading-spacer'></div>;\n\t\t} else if (this.state.recipes.length == 0) {\n\t\t\treturn <div id='msg-spacer'>Your recipes will appear here</div>;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{ this.handleMsg(this.state.msg) }\n\t\t\t\t\t<div className=\"accountContent\">\n\t\t\t\t\t\t<div id=\"cardContainer\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.recipes.map((cardData, index) => \n\t\t\t\t\t\t\t\t\t<BrowseCard \n\t\t\t\t\t\t\t\t\t\tkey={index} \n\t\t\t\t\t\t\t\t\t\trid={cardData._id} \n\t\t\t\t\t\t\t\t\t\timg={cardData.img} \n\t\t\t\t\t\t\t\t\t\tdescription={cardData.description} \n\t\t\t\t\t\t\t\t\t\tauthor={cardData.authorName} \n\t\t\t\t\t\t\t\t\t\tedit={true}\n\t\t\t\t\t\t\t\t\t\ttitle={cardData.title}\n\t\t\t\t\t\t\t\t\t/>\t\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\t}\n}\n\n\n\n\n\nexport default accountRecipes;\n\n"]},"metadata":{},"sourceType":"module"}